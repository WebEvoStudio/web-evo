1:HL["/_next/static/css/2ae02acea5f48476.css",{"as":"style"}]
0:["CpmcY47sk_bHQsxuxdBSl",[[["",{"children":["blogs",{"children":["__PAGE__",{}]}]},"$undefined","$undefined",true],"$L2",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/2ae02acea5f48476.css","precedence":"next"}]],["$L3",null]]]]]
4:HL["/_next/static/css/d4a2101e32889261.css",{"as":"style"}]
5:I{"id":"45910","chunks":["906:static/chunks/906-ab401f7f13a2abd2.js","763:static/chunks/763-816982d04e7c1062.js","477:static/chunks/477-958883f7096e9478.js","718:static/chunks/718-84f389dfcd7612f6.js","239:static/chunks/239-cc88e768fa049fcd.js","503:static/chunks/503-8679e789bafd09de.js","465:static/chunks/465-e933308b2a4fb14d.js","185:static/chunks/app/layout-6b319f546e2c0159.js"],"name":"","async":false}
6:I{"id":"89926","chunks":["272:static/chunks/webpack-b89e52cb2e8247b2.js","423:static/chunks/de4c4141-51dceb0db09ce6cb.js","334:static/chunks/334-f8daac0d6876ad42.js"],"name":"","async":false}
7:I{"id":"83114","chunks":["272:static/chunks/webpack-b89e52cb2e8247b2.js","423:static/chunks/de4c4141-51dceb0db09ce6cb.js","334:static/chunks/334-f8daac0d6876ad42.js"],"name":"","async":false}
9:I{"id":"88135","chunks":["906:static/chunks/906-ab401f7f13a2abd2.js","763:static/chunks/763-816982d04e7c1062.js","477:static/chunks/477-958883f7096e9478.js","718:static/chunks/718-84f389dfcd7612f6.js","239:static/chunks/239-cc88e768fa049fcd.js","503:static/chunks/503-8679e789bafd09de.js","465:static/chunks/465-e933308b2a4fb14d.js","185:static/chunks/app/layout-6b319f546e2c0159.js"],"name":"","async":false}
2:[["$","html",null,{"lang":"en","children":["$","body",null,{"children":[["$","$L5",null,{"children":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","blogs","children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$L8",null],"segment":"__PAGE__"},"styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/d4a2101e32889261.css","precedence":"next"}]]}],"segment":"blogs"},"styles":[]}]}],[["$","$L9",null,{"strategy":"afterInteractive","src":"https://www.googletagmanager.com/gtag/js?id=G-R8ZM6SVZ0K"}],["$","$L9",null,{"id":"google-analytics","strategy":"afterInteractive","children":"\n                    window.dataLayer = window.dataLayer || [];\n                    function gtag(){dataLayer.push(arguments);}\n                    gtag('js', new Date());\n                    gtag('config', 'G-R8ZM6SVZ0K');\n                "}]],["$","$L9",null,{"id":"microsoft-clarity","dangerouslySetInnerHTML":{"__html":"\n            (function(c,l,a,r,i,t,y){\n        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};\n        t=l.createElement(r);t.async=1;t.src=\"https://www.clarity.ms/tag/\"+i;\n        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);\n    })(window, document, \"clarity\", \"script\", \"b91ge7rn7p\");\n            "}}],["$","$L9",null,{"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1031326139722537","crossOrigin":"anonymous","async":true,"strategy":"afterInteractive"}]]}]}],null]
3:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"Web Evo - åšå®¢"}],["$","meta","2",{"name":"description","content":"Web Evoå…¨ç§°Web Evolution (ç½‘ç»œè¿›åŒ–) æ˜¯ä¸€ä¸ªç°ä»£ç½‘ç»œå’¨è¯¢å·¥ä½œå®¤ï¼Œè‡´åŠ›äºå¸®åŠ©å…¬å¸ä¼ä¸šå’Œä¸ªäººå®ç°æ•°å­—åŒ–è½¬å‹ã€‚æˆ‘ä»¬æä¾›è®¾è®¡ã€æ¶æ„ã€å¼€å‘ã€è¿è¥ã€äº§å“æŒ‡å¯¼ç­‰æœåŠ¡ã€‚"}],["$","link","3",{"rel":"manifest","href":"/manifest.json"}],["$","meta","4",{"name":"keywords","content":"Web Evo, Web-Evo, Wev Evolution, WebEvo, web evo, webevo"}],["$","meta","5",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","6",{"name":"bytedance-verification-code","content":"wSvyXEgEi6nNu3eh/eDe"}],["$","meta","7",{"name":"theme-color","content":"#00B0FF"}],["$","meta","8",{"name":"baidu-site-verification","content":"codeva-owAlD1JaUc"}],["$","meta","9",{"name":"msvalidate.01","content":"AB78A0C987D3AEA34B969889512FF33E"}],["$","meta","10",{"name":"google-site-verification","content":"4rS5gjy4-tFOdJO4HvDg0_E4QNcB1D1YeZo29iS4hIY"}],["$","meta","11",{"name":"baidu_union_verify","content":"50312ad0c63983b3fe6c2e2a6e10c386"}],["$","meta","12",{"name":"yandex-verification","content":"00c7edad29c9e045"}],["$","meta","13",{"name":"sogou_site_verification","content":"NxKIJOaIjm"}],["$","meta","14",{"name":"360-site-verification","content":"026caef9c5d27d14371524ad882a339f"}],["$","meta","15",{"name":"shenma-site-verification","content":"ced0831a368866ea173608f4f067519f_1687339017"}],["$","link","16",{"rel":"icon","href":"/favicon.png"}],["$","link","17",{"rel":"apple-touch-icon","href":"/logo192.png"}]]
a:I{"id":"10964","chunks":["694:static/chunks/5150e096-5d90bd899d5a60cb.js","906:static/chunks/906-ab401f7f13a2abd2.js","239:static/chunks/239-cc88e768fa049fcd.js","606:static/chunks/app/blogs/page-b6c5ab7b680e2ca4.js"],"name":"","async":false}
8:["$","$La",null,{"blogs":[{"_id":"63204271f4a469c3500cc11e","title":"Html input type number maxlength å±æ€§å¤±æ•ˆè§£å†³æ–¹æ³•","markContent":"![](http://developers-center.oss-cn-beijing.aliyuncs.com/undraw_javascript_frameworks_-8-qpc.svg)\n\n## é—®é¢˜æè¿°\n\nåœ¨ä½¿ç”¨`input`æ ‡ç­¾çš„æ—¶å€™ï¼Œå¦‚æœè®¾ç½®`type=\"number\"`ï¼Œé‚£ä¹ˆ`maxlength`å±æ€§å°±ä¼šå¤±æ•ˆï¼Œæ— è®ºè®¾ç½®å¤šå°‘ä½æ•°ï¼Œéƒ½å¯ä»¥è¾“å…¥ã€‚\n\n## è§£å†³æ–¹æ¡ˆ\n\nåœ¨`input`æ ‡ç­¾ä¸Šæ·»åŠ `oninput`äº‹ä»¶ï¼Œç„¶ååœ¨äº‹ä»¶ä¸­åˆ¤æ–­è¾“å…¥çš„å€¼æ˜¯å¦è¶…è¿‡äº†`maxlength`çš„å€¼ï¼Œå¦‚æœè¶…è¿‡äº†ï¼Œå°±æˆªå–å‰é¢çš„å€¼ã€‚\n\n## Htmlä¸­çš„å®ç°\n\n```\n<input type=\"number\" maxlength=\"3\" oninput=\"checkLength(this)\" />\n<script>\n  function checkLength(obj) {\n    if (obj.value.length > obj.maxLength) {\n      obj.value = obj.value.slice(0, obj.maxLength);\n    }\n  }\n</script>\n```\n## Vueä¸­çš„å®ç°\n\n```\n<template>\n  <div>\n    <input type=\"number\" maxlength=\"3\" @input=\"checkLength\" />\n  </div>\n</template>\n<script>\nexport default {\n  methods: {\n    checkLength(e) {\n      if (e.target.value.length > e.target.maxLength) {\n        e.target.value = e.target.value.slice(0, e.target.maxLength);\n      }\n    },\n  },\n}\n</script>\n```\n\n\n## Reactä¸­çš„å®ç°\n\n```\nimport React from 'react';\nexport default function App() {\n  const checkLength = (obj) => {\n    if (obj.value.length > obj.maxLength) {\n      obj.value = obj.value.slice(0, obj.maxLength);\n    }\n  };\n  return (\n    <div>\n      <input type=\"number\" maxLength=\"3\" onInput={checkLength} />\n    </div>\n  );\n}\n```\n\n## Angularä¸­çš„å®ç°\n\n```\nimport { Component } from '@angular/core';\n@Component({\n  selector: 'app-root',\n  template: `<input type=\"number\" maxlength=\"3\" (input)=\"checkLength($event)\" />`,\n})\nexport class AppComponent {\n  checkLength(obj) {\n    if (obj.value.length > obj.maxLength) {\n      obj.value = obj.value.slice(0, obj.maxLength);\n    }\n  }\n}\n```\n\n## Svelteä¸­çš„å®ç°\n\n```\n<script>\n  const checkLength = (obj) => {\n    if (obj.value.length > obj.maxLength) {\n      obj.value = obj.value.slice(0, obj.maxLength);\n    }\n  };\n</script>\n<input type=\"number\" maxlength=\"3\" on:input={checkLength} />\n```","viewCount":308,"createTime":"2022-09-13T08:42:25.392Z","updateTime":"2022-09-13T08:42:25.392Z","__v":0},{"_id":"631c6745f4a469c3500cc037","title":"postcss å¿½ç•¥æ–‡ä»¶å¤¹åŠå•ä¸ªæ–‡ä»¶","markContent":"\n![](http://developers-center.oss-cn-beijing.aliyuncs.com/postcss.83d93145.svg)\n\n## èƒŒæ™¯\n\nåœ¨ä½¿ç”¨ `vue` å¼€å‘é¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä½¿ç”¨ `postcss` æ’ä»¶ `postcss-px-to-viewport` å¯¹æ•´ä¸ªé¡¹ç›®çš„ `px` è¿›è¡Œè½¬æ¢ï¼Œä½†æ˜¯åœ¨é¡¹ç›®åæœŸæˆ‘ä»¬å°†åŸç”Ÿè€é¡¹ç›®çš„ `html` ä»£ç è¿ç§»åˆ° `vue` é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¸éœ€è¦å¯¹è€é¡¹ç›®çš„ `px` è¿›è¡Œè½¬æ¢ï¼Œåªéœ€è¦å¯¹æ–°é¡¹ç›®çš„ `px` è¿›è¡Œè½¬æ¢ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦å¯¹ `postcss` è¿›è¡Œé…ç½®ï¼Œè®©å…¶å¿½ç•¥å¯¹è€é¡¹ç›®æ–‡ä»¶çš„è½¬æ¢ã€‚\n\n## é¡¹ç›®ç¯å¢ƒ\n\n* ![](https://img.shields.io/badge/vite-^2.9.9-646cff)\n* ![](https://img.shields.io/badge/vue-^3.2.25-42b883)\n* ![](https://img.shields.io/badge/postcss--px--to--viewport-^1.1.1-dd3a0a)\n\n## Postcss å¿½ç•¥å±æ€§ `exclude`\n\nåªéœ€è¦åœ¨ `postcss.config.js` ä¸­é…ç½® `exclude` å³å¯, `exclude` æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ•°ç»„( `exclude: [RegExp]` )ï¼ŒåŒ¹é…çš„æ–‡ä»¶å°†ä¸ä¼šè¢«è½¬æ¢ã€‚\n\n## å¿½ç•¥æ–‡ä»¶å¤¹\n\n```\nexclude: [/node_modules/, /main/],\n```\n\n## å¿½ç•¥å•ä¸ªæ–‡ä»¶\n\n```\nexclude: [/src\\/pages\\/index.vue/]\n```\n\n## å®Œæ•´ç¤ºä¾‹\n\n`postcss.config.js`\n\n```\nmodule.exports = {\n    plugins: {\n      'postcss-px-to-viewport': {\n        viewportWidth: 375,\n        unitPrecision: 6,\n        unitToConvert: 'px',\n        propList: ['*'],\n        exclude: [/node_modules/, /main/, /src\\/pages\\/index.vue/]\n      }\n    }\n}\n```","viewCount":318,"createTime":"2022-09-10T10:30:29.048Z","updateTime":"2022-09-10T10:49:17.130Z","__v":0},{"_id":"63198665f4a469c3500cbf3f","title":"axios x-www-form-urlencoded è¯·æ±‚","markContent":"\n\n![](http://developers-center.oss-cn-beijing.aliyuncs.com/axios-http.com_1920-1080.png)\n\n## POSTçš„å‡ ç§æäº¤æ–¹å¼\n\n* application/json\n\n> è¿™ä¸ªæ˜¯æˆ‘çš„é¡¹ç›®ä¸­æœ€å¸¸ç”¨çš„ä¸€ç§ï¼Œæˆ‘è§‰å¾—è¿™ç§æ ¼å¼çš„å¥½å¤„æ˜¯æŠ“åŒ…çš„æ—¶å€™éå¸¸ç›´è§‚ï¼Œèƒ½å¤Ÿå¾ˆæ¸…æ¥šçš„çœ‹åˆ°dataçš„ç»“æ„ã€‚\naxiosé»˜è®¤Content-typeæ˜¯é‡‡ç”¨application/json;charset=UTF-8ï¼Œæ— éœ€è®¾ç½®ç›´æ¥æŠŠå¯¹è±¡ä¼ è¿›å»å³å¯ã€‚è´¼æ–¹ä¾¿ã€‚\n\n* application/x-www-form-urlencoded\n\n> ajax ä¸­ï¼Œ contentTypeéƒ½æ˜¯é»˜è®¤çš„å€¼ï¼šapplication/x-www-form-urlencoded\nç‰¹ç‚¹æ˜¯æäº¤çš„æ•°æ®æŒ‰ç…§ key1=val1&key2=val2 çš„æ–¹å¼è¿›è¡Œç¼–ç ï¼Œkey å’Œ val ä¼šè¿›è¡Œäº† URL è½¬ç ã€‚\n\n* multipart/form-data\n\n> è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¸¸è§çš„ POST æ•°æ®æäº¤çš„æ–¹å¼ã€‚æˆ‘ä»¬ä½¿ç”¨è¡¨å•ä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œå°±è¦è®© form çš„ enctype ç­‰äºè¿™ä¸ªå€¼ã€‚è¿™ç§æ–¹å¼ä¸€èˆ¬ç”¨æ¥ä¸Šä¼ æ–‡ä»¶ï¼Œå„å¤§æœåŠ¡ç«¯è¯­è¨€å¯¹å®ƒä¹Ÿæœ‰ç€è‰¯å¥½çš„æ”¯æŒã€‚è¿™ä¸ªå’Œapplication/x-www-form-urlencodedçš„åŒºåˆ«åœ¨äºä¸€ä¸ªé€‚åˆä¼ å­—æ®µé”®å€¼ï¼Œä¸€ä¸ªé€‚åˆä¼ æ–‡ä»¶ã€‚\n\n* text/xml\n\n> å’Œapplication/jsonçš„åŒºåˆ«æ˜¯æŠŠä¼ è¾“çš„æ ¼å¼æ¢æˆxmlæ ¼å¼ï¼Œç»“æ„å¤æ‚ï¼Œè‡ƒè‚¿ã€‚åæ­£æˆ‘æ˜¯ä¸ä¼šç”¨ã€‚\n\né‚£ä¹ˆä½¿ç”¨axioséœ€è¦æ€æ ·è®¾ç½®æ‰èƒ½ä½¿ç”¨ `application/x-www-form-urlencoded` ç¼–ç æ ¼å¼å‘¢ï¼ˆæ¯”è¾ƒç‰¹æ®Šï¼‰ï¼Ÿ\nå¦‚æœæˆ‘ä»¬éœ€è¦é‡‡ç”¨è¡¨å•ä¸Šä¼ çš„æ–¹å¼ï¼ˆapplication/x-www-form-urlencodedï¼‰æ¥ç»™åå°ä¼ é€’æ•°æ®çš„è¯ï¼Œåˆ™éœ€è¦å¼•å…¥qsåº“,qsåº“åœ¨æˆ‘ä»¬ å®‰è£… axiosçš„æ—¶å€™å°±å·²ç»ç»™æˆ‘ä»¬é»˜è®¤å®‰è£…äº† è¿™ä¸ªæ—¶å€™ æˆ‘ä»¬éœ€è¦å°†å‚æ•°è½¬æ¢ä¸€ä¸‹:\n\n```\nimport qs from 'qs'\nexport function post (url, data = {}) {\n  return new Promise((resolve, reject) => {\n    axios.post(url, qs.stringify(data))\n      .then(response => {\n        resolve(response.data)\n      }, err => {\n        reject(err)\n      })\n  })\n```","viewCount":273,"createTime":"2022-09-08T06:06:29.385Z","updateTime":"2022-09-10T10:02:57.244Z","__v":0},{"_id":"6318bb36f4a469c3500cbefe","title":"JSå‰ç«¯å®ç°å…¨å±å’ŒcancelFullscreenæ•ˆæœ","markContent":"![](http://developers-center.oss-cn-beijing.aliyuncs.com/image.png)\n\nè®°å½•ä¸€ä¸‹jså…¼å®¹å„ä¸ªæµè§ˆå™¨çš„å¯åŠ¨å’Œé€€å‡ºå…¨å±æ–¹æ³•\n\nJSæ ‡å‡†APIå…¶å®å·²ç»åŒ…å«äº†ç›¸å…³çš„å‡ ä¸ªæ–¹æ³•ï¼š\n\n* å…¨å±æ˜¯å¦å¯ç”¨ï¼š[Document.fullscreenEnabled](https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FDocument%2FfullscreenEnabled)\n* å¼€å¯å…¨å±ï¼š[Document.requestFullScreen()](https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FElement%2FrequestFullScreen)\n* é€€å‡ºå…¨å±ï¼š[Document.exitFullscreen()](https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FDocument%2FexitFullscreen)\n* è·å–å…¨å±å…ƒç´ ï¼š[document.mozFullScreenElement](https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FDocument%2FfullscreenElement)\n* ç›‘å¬å…¨å±æ¨¡å¼å˜åŒ–: [fullscreenchange](https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FDocument%2Ffullscreenchange_event)\n\n## å…¨å±jsåº“æ¨è\n\n* [be-fullğŸš€](https://www.npmjs.com/package/be-full)\n> å…¨å±æ˜¾ç¤º, æ”¯æŒPC/ç§»åŠ¨ç«¯, ä¸åˆ°1kb. ğŸš€[åœ¨çº¿æ¼”ç¤º](https://any86.github.io/be-full/example/)\n\n## å…¨å±æ˜¯å¦å¯ç”¨ï¼š Document.fullscreenEnabled\n\n`fullscreenEnabled` å±æ€§æä¾›äº†å¯ç”¨å…¨å±æ¨¡å¼çš„å¯èƒ½æ€§ã€‚å½“å®ƒçš„å€¼æ˜¯ `false` çš„æ—¶å€™ï¼Œè¡¨ç¤ºå…¨å±æ¨¡å¼ä¸å¯ç”¨ï¼ˆå¯èƒ½çš„åŸå› æœ‰ \"`fullscreen`\" ç‰¹æ€§ä¸è¢«å…è®¸ï¼Œæˆ–å…¨å±æ¨¡å¼ä¸è¢«æ”¯æŒç­‰ ï¼‰\n\n```\nfunction fullscreenEnabled() {\n  return (\n    document.fullscreenElement ||\n    document.mozFullScreenElement ||\n    document.webkitFullscreenElement\n  );\n}\n```\n\n## å¯åŠ¨å…¨å±ï¼š Document.exitFullscreen()\n\n`Element.requestFullscreen()` æ–¹æ³•ç”¨äºå‘å‡ºå¼‚æ­¥è¯·æ±‚ä½¿å…ƒç´ è¿›å…¥å…¨å±æ¨¡å¼ã€‚ä½œç”¨æ˜¯è¯·æ±‚æµè§ˆå™¨å°†æŒ‡å®šçš„å…ƒç´ è®¾ç½®ä¸ºå…¨å±æ¨¡å¼ï¼Œ ç»“æœä¼šè¿”å›ä¸€ä¸ª`Promise`ï¼Œå…¨å±æ¨¡å¼è¢«æ¿€æ´»çš„æ—¶å€™å˜æˆ `resolved` çŠ¶æ€ã€‚\n\nå¦‚æœå…¨å±æ¨¡å¼è¢«ç¦ç”¨æˆ–è€…ä¸æ”¯æŒï¼Œåˆ™ä¼šè¿”å›`reject`ã€‚`Document.fullscreenEnabled` å¯ç”¨æ¥åˆ¤æ–­æ˜¯å¦æ”¯æŒå…¨å±æ¨¡å¼ã€‚\n\n```\nfunction fullscreen(element) {\n  if (document.mozFullScreenEnabled) {\n    return Promise.reject(new Error(\"å…¨å±æ¨¡å¼è¢«ç¦ç”¨\"));\n  }\n  let result = null;\n  if (element.requestFullscreen) {\n    result = element.requestFullscreen();\n  } else if (element.mozRequestFullScreen) {\n    result = element.mozRequestFullScreen();\n  } else if (element.msRequestFullscreen) {\n    result = element.msRequestFullscreen();\n  } else if (element.webkitRequestFullscreen) {\n    result = element.webkitRequestFullScreen();\n  }\n  return result || Promise.reject(new Error(\"ä¸æ”¯æŒå…¨å±\"));\n}\n```\n\n## é€€å‡ºå…¨å±ï¼šDocument.exitFullscreen()\n\n`Document.exitFullscreen()`  æ–¹æ³•ç”¨äºè®©å½“å‰æ–‡æ¡£é€€å‡ºå…¨å±æ¨¡å¼ã€‚å…ƒç´ æ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€ã€‚\n\nMDNæœ‰è¿™æ ·çš„ä¸€ä¸ªå¤‡æ³¨ï¼š\n\n> å¦‚æœä¸€ä¸ªå…ƒç´ Aåœ¨è¯·æ±‚è¿›å»å…¨å±æ¨¡å¼ä¹‹å‰ï¼Œå·²ç»å­˜åœ¨å…¶ä»–å…ƒç´ å¤„äºå…¨å±çŠ¶æ€ï¼Œå½“è¿™ä¸ªå…ƒç´ Aé€€å‡ºå…¨å±æ¨¡å¼ä¹‹åï¼Œä¹‹å‰çš„å…ƒç´ ä»ç„¶å¤„äºå…¨å±çŠ¶æ€ã€‚æµè§ˆå™¨å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªå…¨å±å…ƒç´ æ ˆç”¨äºå®ç°è¿™ä¸ªç›®çš„\n\n> Document.exitFullscreen() æ–¹æ³•è®©å…¨å±å…ƒç´ æ ˆçš„æ ˆé¡¶å…ƒç´ é€€å‡ºå…¨å±çŠ¶æ€ï¼Œå¹¶è®©æ–°çš„æ ˆé¡¶çš„å…ƒç´ è¿›å…¥å…¨å±çŠ¶æ€\n\nè¿™å°±æ„å‘³ç€å¯ä»¥æœ‰å¤šä¸ªå…ƒç´ åŒæ—¶å…¨å±ã€‚å¹¶ä¸”è¿™äº›å…¨å±çš„å…ƒç´ è¢«å­˜å‚¨åœ¨ä¸€ä¸ªæ ˆä¸­ã€‚\n\n```\nfunction cancelFullscreen() {\n  if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if (document.msExitFullscreen) {\n    document.msExitFullscreen();\n  } else if (document.mozCancelFullScreen) {\n    document.mozCancelFullScreen();\n  } else if (document.webkitExitFullscreen) {\n    document.webkitExitFullscreen();\n  }\n}\n```\n\n## è·å–å…¨å±å…ƒç´ ï¼šdocument.mozFullScreenElement\n\nè¯¥æ–¹æ³•å¯ä»¥ç”¨æ¥æ£€æŸ¥å½“å‰æ˜¯å¦æœ‰å…ƒç´ å¤„äºå…¨å±çŠ¶æ€ï¼Œå¦‚æœæœ‰ï¼Œåˆ™è¿”å›è¯¥å…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰åˆ™è¿”å›nullã€‚\n\n```\n  if (document.fullscreenElement === null) {\n    console.log(\"å½“å‰å¤„äºå…¨å±æ¨¡å¼\");\n  } else {\n    console.log(\"å½“å‰ä¸å¤„äºå…¨å±æ¨¡å¼\");\n  }\n```\n\n## ç›‘å¬å…¨å±æ¨¡å¼å˜åŒ–: fullscreenchange\n\nå®é™…ä¸šåŠ¡ä¸­ä¸€èˆ¬ä¼šå­˜åœ¨ç›‘å¬å…¨å±æ¨¡å¼å˜åŒ–ï¼Œä¾‹å¦‚ï¼šéå…¨å±æ¨¡å¼æ—¶å€™æ˜¾ç¤º\"å…¨å±\"æŒ‰é’®ï¼Œå…¨å±æ—¶å€™æ˜¾ç¤º\"é€€å‡ºå…¨å±\"æŒ‰é’®ã€‚è¿™å°±éœ€è¦æˆ‘ä»¬ç›‘å¬å…¨å±çŠ¶æ€æ¥æ§åˆ¶æ“ä½œæŒ‰é’®çš„æ˜¾ç¤ºä¸éšè—ã€‚\n\n```\nlet isFullscreen = false;\n\nconst handler = () => {\n  isFullscreen = document.fullscreenElement !== null;\n  if (!isFullscreen) {\n    // é€€å‡ºå…¨å±æ—¶å€™è§£é™¤ç›‘å¬ï¼Œä¸ç„¶æ¯æ¬¡ç›‘å¬éƒ½ä¼šæ·»åŠ ä¸€æ¬¡ç»‘å®š \n    document.removeEventListener(\"fullscreenchange\", handler);\n  }\n};\n\ndocument.addEventListener(\"fullscreenchange\", handler);\n```","viewCount":304,"createTime":"2022-09-07T15:39:34.635Z","updateTime":"2022-09-07T15:39:34.635Z","__v":0},{"_id":"6302f2b7fb839c1829f9d671","title":"åˆ©ç”¨vue-pdfå®ç°pdfåœ¨çº¿é¢„è§ˆ","markContent":"## èƒŒæ™¯\n\nä¹‹å‰çš„demoåŠ äº†å›¾ç‰‡é¢„è§ˆï¼Œæ‰€ä»¥ä»Šå¤©ä¸‹åˆè¿½ç•ªå‰§ä¹‹åçªç„¶æƒ³åˆ°èƒ½ä¸èƒ½åšä¸€ä¸ªpdfçš„åœ¨çº¿é¢„è§ˆã€‚åŠ¨æ‰‹å§ã€‚ä¸€å¼€å§‹æˆ‘æŸ¥äº†å¾ˆå¤šæ•™ç¨‹ï¼Œå‘ç°å¾ˆå¤šäººéƒ½åœ¨è¯´pdf.jsçš„åº“å½“ç„¶è¿™ä¸ªæ²¡é—®é¢˜ã€‚Pdf.jsç¡®å®å¯ä»¥å®Œç¾çš„å®ç°Pdfåœ¨çº¿é¢„è§ˆçš„è¿‡ç¨‹ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿™æ ·ç›´æ¥èµ°å°±ä¸ä¼˜é›…äº†ã€‚äºæ˜¯æˆ‘æ‰¾ç°æˆçš„ç»„ä»¶ï¼Œæ‰¾åˆ°äº†vue-pdfã€‚è™½ç„¶æ²¡æœ‰nativeé‚£ä¹ˆå¼ºå¤§ï¼Œæ¯”å¦‚ä¸æ”¯æŒpdfæ–‡æœ¬å¤åˆ¶ï¼Œæ‰“å°ä¼šæœ‰ä¹±ç ï¼Œä½†æ˜¯æˆ‘æ„Ÿè§‰å·²ç»è¶³å¤Ÿæ»¡è¶³æˆ‘çš„éœ€æ±‚äº†ã€‚è¿™ä¸ªç¬”è®°æ˜¯ä¸€æ­¥ä¸€æ­¥çš„ï¼Œä»åŸºç¡€æ¼”ç¤ºåˆ°èƒ½ç”¨çš„ç¨‹åº¦ã€‚æ–‡ç« æœ€ååˆ—ä¸¾äº†ä½ åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­å¯èƒ½é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ³•ã€‚\n\n## å®‰è£…ï¼š\n\n```\nnpm install --save vue-pdf\n```\n\n## vue-pdf åˆä½“éªŒï¼š\n\nå®‰è£…å®Œæˆåï¼Œä½¿ç”¨vue-pdféå¸¸ç®€å•ï¼Œå’Œå…¶ä»–ç»„ä»¶æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚ä»£ç å¦‚ä¸‹:\n\nå¼•å…¥ç»„ä»¶ï¼š\n\n```\n<script>\nimport pdf from 'vue-pdf'\nexport default {\n  components:{\n      pdf\n  },\n  data(){\n      return {\n          url:\"http://storage.xuetangx.com/public_assets/xuetangx/PDF/PlayerAPI_v1.0.6.pdf\",\n      }\n  }\n</script>   \n```\n\nç„¶ååœ¨é¡µé¢ä¸Šç”¨vue-pdfï¼ŒåŠ æ ‡ç­¾å°±è¡Œäº†ï¼š\n\n```\n<template>\n<div>\n  <pdf \n    ref=\"pdf\"\n    :src=\"url\">\n  </pdf>\n</div>\n</template>\n```\n\né‡å¯ä½ çš„é¡¹ç›®ï¼Œè®¿é—®è¿™ä¸ªç•Œé¢ï¼Œä½ ä¼šå‘ç°pdfå·²ç»å¤§æ¦‚ç‡æˆåŠŸæ˜¾ç¤ºåœ¨ä½ çš„ç•Œé¢ä¸Šäº†ã€‚æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ï¼Œå°±åœ¨ä½ å‡†å¤‡æ‹¿èµ·ä¸€æ ¹çƒŸï¼Œç‚¹ç‡ƒå®ƒï¼Œå’Œèˆ’é€‚ç¾ä¸½çš„ç´¢ç½—æ²³ä¸€èµ·äº«å—ä½ æˆåŠŸçš„æ°ä½œçš„æ—¶å€™ï¼Œä½ ä¼šå‘ç°ï¼Œ* *ç¥åœ£çš„ç‹—å±ï¼Œä¸ºä»€ä¹ˆåªæœ‰ä¸€é¡µ* *ï¼Œå½“çœ¼é•œç¢°åœ¨ä¸€èµ·ï¼Œæ¢¦ç¢çš„å£°éŸ³å……æ–¥ä¸–ç•Œã€‚\n\næ‰€ä»¥ï¼Œè¿™åªæ˜¯ç¬¬ä¸€æ¬¡ç»å†ã€‚å¦‚æœä½ çš„pdfåªæœ‰ä¸€é¡µï¼Œå½“ç„¶è¿™æ ·å†™æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ä½†æ˜¯å½“æˆ‘ä»¬çš„pdfæœ‰å¾ˆå¤šé¡µçš„æ—¶å€™ï¼Œä½ ä¼šå‘ç°å®ƒä¸è¡Œäº†ã€‚æ‰€ä»¥ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•è®©å®ƒæ˜¾ç¤ºå¤šä¸ªé¡µé¢ã€‚\n\n## vue-pdf æ¸å…¥ä½³å¢ƒï¼š\n\nå…¶å®æ˜¾ç¤ºå¤šä¸ªé¡µé¢ä¹Ÿæ²¡é‚£ä¹ˆå¤æ‚ã€‚ä¸€æ¬¡æ˜¾ç¤ºä¸€é¡µã€‚æˆ‘ï¼Œç›´æ¥v-forå¾ªç¯ï¼Œç›´æ¥æ˜¾ç¤ºã€‚ç®€å•ç²—æš´ã€‚\n\né¡µé¢ä»£ç :\n\n```\n<template>\n\t<div>\n\t<pdf  v-for=\"i in numPages\" :key=\"i\"  :src=\"url\" :page=\"i\"></pdf>\t\n\t</div>\n</template>\n\n<script>\n\timport pdf from 'vue-pdf'\n\texport default {\n\t\tcomponents: {\n\t\t\tpdf\n\t\t},\n\t\tdata(){\n\t\t\t return{\n\t\t\t\t    url: '',\n\t\t\t\t    numPages:1,\n\t\t\t }\n\t\t },\n\t\tmounted: function() {\n\t\t  this.getNumPages(\"http://storage.xuetangx.com/public_assets/xuetangx/PDF/PlayerAPI_v1.0.6.pdf\")\n\t\t  \n\t\t}, \n\t\tmethods: {\n\t\t\tgetNumPages(url) {\n\t\t\t\tvar loadingTask = pdf.createLoadingTask(url)\n\t\t\t\tloadingTask.then(pdf => {\n\t\t\t\t\tthis.url = loadingTask\n\t\t\t\t\tthis.numPages = pdf.numPages\n\t\t\t\t}).catch((err) => {\n\t\t\t\t\tconsole.error('pdfåŠ è½½å¤±è´¥')\n\t\t\t\t})\n\t\t\t},\n\t\t}\n\t}\n</script>\n```\n\nå±æ€§ï¼š\n\n-   url ï¼špdf æ–‡ä»¶çš„è·¯å¾„ï¼Œå¯ä»¥æ˜¯æœ¬åœ°è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯åœ¨çº¿è·¯å¾„ã€‚\n-   numPages ï¼š pdf æ–‡ä»¶æ€»é¡µæ•°ã€‚\n\ngetNumPages è®¡ç®—æ€»é¡µæ•°ï¼Œé¡ºä¾¿ç»™urlå’ŒnumPagesèµ‹å€¼ã€‚\n\nä½ å”¯ä¸€éœ€è¦æ³¨æ„çš„å°±æ˜¯è¿™å¥è¯:\n\n```\nthis.getNumPages(\"http://storage.xuetangx.com/public_assets/xuetangx/PDF/PlayerAPI_v1.0.6.pdf\")\n```\n\næ³¨æ„å•Šï¼Œè¿™å¥ä¸ä¸€å®šéè¦å†™åˆ°mountedé‡Œé¢ï¼Œä½ æƒ³å†™å“ªå°±å†™å“ªï¼Œæ¯”å¦‚ä½ å‰ç«¯è¯·æ±‚åç«¯ï¼Œåç«¯è¿”å›ä¸€ä¸ªpdf çš„urlï¼Œåœ¨é‚£é‡Œå†™å°±è¡Œï¼Œå†™åœ¨ä½ éœ€è¦çš„åœ°æ–¹ã€‚\n\n## vue-pdf è½»è½¦ç†Ÿè·¯ï¼š\n\nå¾ˆå¤šäººçœ‹åˆ°è¿™ä¸ªï¼Œå°±åœ¨è¿™é‡Œï¼Œå°±åœ¨è¿™é‡Œï¼Ÿä¸‡ä¸€æˆ‘çš„pdfæœ‰ä¸€åƒé¡µï¼Œæˆ‘çš„æµè§ˆå™¨åº”è¯¥ä¸ä¼šè¢«ç ´è§£ã€‚æˆ‘è¿½æ±‚çš„æ˜¯åœ¨ä¸€ä¸ªå¾®é†ºçš„ä¸‹åˆç¿»é˜…ä¹¦é¡µçš„æ„Ÿè§‰ã€‚ä½ èƒ½ç»™æˆ‘å—ï¼Ÿ\n\nä¸è¡Œï¼Œä¸è¡Œï¼Œæˆ‘ä¿è¯è®©ä½ æ»¡æ„ã€‚\n\n```\n<template>\n\t<div>\n\t\t<div class=\"tools\">\n\t\t\t<bk-button :theme=\"'default'\" type=\"submit\" :title=\"'åŸºç¡€æŒ‰é’®'\" @click.stop=\"prePage\" class=\"mr10\"> ä¸Šä¸€é¡µ</bk-button>\n\t\t\t<bk-button :theme=\"'default'\" type=\"submit\" :title=\"'åŸºç¡€æŒ‰é’®'\" @click.stop=\"nextPage\" class=\"mr10\"> ä¸‹ä¸€é¡µ</bk-button>\n\t\t\t<div class=\"page\">{{pageNum}}/{{pageTotalNum}} </div>\n\t\t\t<bk-button :theme=\"'default'\" type=\"submit\" :title=\"'åŸºç¡€æŒ‰é’®'\" @click.stop=\"clock\" class=\"mr10\"> é¡ºæ—¶é’ˆ</bk-button>\n\t\t\t<bk-button :theme=\"'default'\" type=\"submit\" :title=\"'åŸºç¡€æŒ‰é’®'\" @click.stop=\"counterClock\" class=\"mr10\"> é€†æ—¶é’ˆ</bk-button>\n\t\t</div>\n\t\t<pdf ref=\"pdf\" \n\t\t:src=\"url\" \n\t\t:page=\"pageNum\"\n\t\t:rotate=\"pageRotate\"  \n\t\t@progress=\"loadedRatio = $event\"\n\t\t@page-loaded=\"pageLoaded($event)\" \n\t\t@num-pages=\"pageTotalNum=$event\" \n\t\t@error=\"pdfError($event)\" \n\t\t@link-clicked=\"page = $event\">\n\t\t</pdf>\n\t</div>\n</template>\n```\n\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸‹è¿™äº›æ˜¯ä»€ä¹ˆã€‚\n\nå‚æ•°ä»‹ç»ï¼š\n\n-   `page`: å½“å‰æ˜¾ç¤ºçš„é¡µæ•°ï¼Œæ¯”å¦‚ç¬¬ä¸€é¡µpage=1\n-   `rotate` ï¼š æ—‹è½¬è§’åº¦ï¼Œæ¯”å¦‚0å°±æ˜¯ä¸æ—‹è½¬ï¼Œ+90ï¼Œ-90 å°±æ˜¯æ°´å¹³æ—‹è½¬ã€‚\n-   `progress` ï¼šå½“å‰é¡µé¢çš„åŠ è½½è¿›åº¦ï¼ŒèŒƒå›´æ˜¯0-1 ï¼Œç­‰äº1çš„æ—¶å€™ä»£è¡¨å½“å‰é¡µå·²ç»å®Œå…¨åŠ è½½å®Œæˆäº†ã€‚\n-   `page-loaded` ï¼šé¡µé¢åŠ è½½æˆåŠŸçš„å›è°ƒå‡½æ•°ï¼Œä¸å’‹èƒ½ç”¨åˆ°ã€‚\n-   `num-pages` ï¼šæ€»é¡µæ•°\n-   `error` ï¼šåŠ è½½é”™è¯¯çš„å›è°ƒ\n-   `link-clicked`ï¼šå•æœºpdfå†…çš„é“¾æ¥ä¼šè§¦å‘ã€‚\n\nå…¶ä»–ï¼š\n\n-   print è¿™ä¸ªæ˜¯æ‰“å°å‡½æ•°ã€‚ æ³¨æ„ï¼šè°·æ­Œæµè§ˆå™¨ä¼šå‡ºç°ä¹±ç ï¼Œè¿™ä¸ªå’Œå­—ä½“æœ‰å…³ç³»ã€‚\n\næ¥ï¼Œjsä»£ç èµ°ä¸€ä¸ª:\n\n```\n<script>\n\timport pdf from 'vue-pdf'\n\texport default {\n\t\tname: 'Home',\n\t\tcomponents: {\n\t\t\tpdf\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\turl: \"http://storage.xuetangx.com/public_assets/xuetangx/PDF/PlayerAPI_v1.0.6.pdf\",\n\t\t\t\tpageNum: 1,\n\t\t\t\tpageTotalNum: 1,\n\t\t\t\tpageRotate: 0,\n\t\t\t\t// åŠ è½½è¿›åº¦\n\t\t\t\tloadedRatio: 0,\n\t\t\t\tcurPageNum: 0,\n\t\t\t}\n\t\t},\n\t\tmounted: function() {},\n\t\tmethods: {\n            // ä¸Šä¸€é¡µå‡½æ•°ï¼Œ\n\t\t\tprePage() {\n\t\t\t\tvar page = this.pageNum\n\t\t\t\tpage = page > 1 ? page - 1 : this.pageTotalNum\n\t\t\t\tthis.pageNum = page\n\t\t\t},\n            // ä¸‹ä¸€é¡µå‡½æ•°\n\t\t\tnextPage() {\n\t\t\t\tvar page = this.pageNum\n\t\t\t\tpage = page < this.pageTotalNum ? page + 1 : 1\n\t\t\t\tthis.pageNum = page\n\t\t\t},\n            // é¡µé¢é¡ºæ—¶é’ˆç¿»è½¬90åº¦ã€‚\n\t\t\tclock() {\n\t\t\t\tthis.pageRotate += 90\n\t\t\t},\n            // é¡µé¢é€†æ—¶é’ˆç¿»è½¬90åº¦ã€‚\n\t\t\tcounterClock() {\n\t\t\t\tthis.pageRotate -= 90\n\t\t\t},\n            // é¡µé¢åŠ è½½å›è°ƒå‡½æ•°ï¼Œå…¶ä¸­eä¸ºå½“å‰é¡µæ•°\n\t\t\tpageLoaded(e) {\n\t\t\t\tthis.curPageNum = e\n\t\t\t},\n            // å…¶ä»–çš„ä¸€äº›å›è°ƒå‡½æ•°ã€‚\n\t\t\tpdfError(error) {\n\t\t\t\tconsole.error(error)\n\t\t\t},\n\t\t}\n\t}\n</script>\n```\n\nå…¶ä»–Saoæ“ä½œ:\n\n```\n// æ‰“å°å…¨éƒ¨\npdfPrintAll() {\n\tthis.$refs.pdf.print()\n\t\t},\n// æ‰“å°æŒ‡å®šéƒ¨åˆ†\npdfPrint() {\n\tthis.$refs.pdf.print(100, [1, 2])\n\t},\n```\n\nå…·ä½“é£æ ¼ä»€ä¹ˆçš„æˆ‘å°±ä¸è´´äº†ã€‚è¿™äº›éƒ½ä¸æ˜¯é‡ç‚¹ï¼Œå¯ä»¥æ”¹æˆè‡ªå·±çš„ã€‚\n\næˆå“å±•ç¤º:\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d7ad8892249345e5a2fb29295a7e4983~tplv-k3u1fbpfcp-zoom-1.image)\n\n## å…¶ä»–é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆï¼š\n\n### å¦‚ä½•åŠ è½½æœ¬åœ°pdfæ–‡ä»¶(2020.4.27æ›´æ–°)ï¼š\n\nè¯„è®ºåŒºæœ‰äººæåˆ°è¿™ä¸ªé—®é¢˜ã€‚æˆ‘ä»Šå¤©ä¸­åˆè¯•äº†ä¸€ä¸‹ï¼Œæ²¡é—®é¢˜ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦åœ¨æœ¬åœ°é…ç½®flie-loaderã€‚å¦åˆ™webpackæ— æ³•ç¼–è¯‘pdfæ–‡ä»¶ï¼Œé…ç½®æ–¹æ³•éå¸¸ç®€å•ã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»ºä¸€ä¸ªvue.config.jsæ–‡ä»¶ï¼Œæˆ‘å‘ç°å¾ˆå¤šäººåªæ˜¯å»babel.config.jsé…ç½®ä¸€ä¸‹ã€‚è¿™æ˜¯é”™è¯¯çš„ï¼Œè‚¯å®šä¼šç»™å‡ºé”™è¯¯ã€‚\n\nå…ˆå®‰è£…file-loader:\n\n```\nnpm install --save file-loader\nå¤åˆ¶ä»£ç \n```\n\nç„¶ååœ¨vue.config.jsä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š\n\n```\nmodule.exports = {\n    chainWebpack: config => {\n        const fileRule = config.module.rule('file')\n        fileRule.uses.clear()\n        fileRule\n            .test(/.pdf|ico$/)\n            .use('file-loader')\n            .loader('file-loader')\n            .options({\n                limit: 10000,\n            })\n    },\n    publicPath: './'\n}\n```\n\nä¹‹åå†`url:require(\"../assets/1.pdf\")`å°±æ²¡æœ‰ä»»ä½•é—®é¢˜äº†ï¼Œæ³¨æ„ï¼Œvue-pdf srcæ¥æ”¶çš„æ˜¯stringå¯¹è±¡ï¼Œå¦‚æœç›´æ¥ä¼ urlæˆ‘è¿™é‡ŒæŠ¥é”™äº†ï¼Œä½ å¯èƒ½éœ€è¦ä¼ `url.default`ä¸€ä¸‹ã€‚\n\n### è·¨åŸŸé—®é¢˜ï¼š\n\nç½‘ä¸Šç”¨pdf.js å¾ˆå¤šéƒ½ä¼šé‡åˆ°è·¨åŸŸé—®é¢˜ï¼Œè¿™ä¸ªæˆ‘ä»Šå¤©å®é™…åº”ç”¨åˆ°è‡ªå·±çš„é¡¹ç›®é‡Œé¢äº†ï¼Œç”±äºæˆ‘æœåŠ¡ç«¯è®¾ç½®äº†è·¨åŸŸï¼Œæ‰€ä»¥æ²¡æœ‰å‡ºç°è·¨åŸŸçš„é—®é¢˜ï¼Œå¦‚æœå‡ºç°è·¨åŸŸéœ€è¦ä¿®æ”¹ä½ åç«¯çš„è¯·æ±‚å¤´ã€‚\n\n### æ‰“å°ç•Œé¢å­—ç¬¦ä¹±ç ï¼š\n\nè¿™ä¸ªæˆ‘å€’æ˜¯ç¢°åˆ°äº†ï¼Œè°·æ­Œæµè§ˆå™¨æ‰“å°çš„æ—¶å€™ï¼Œé¢„è§ˆç•Œé¢çœŸçš„å˜æˆäº† çœŸÂ·æ–¹å—å­— ï¼Œå…¨æ˜¯æ–¹å—ã€‚è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºä½ pdfä¸­ä½¿ç”¨äº†è‡ªå®šä¹‰å­—ä½“å¯¼è‡´çš„ï¼Œå…·ä½“è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š\n\né¦–å…ˆï¼Œæ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶ï¼šnode_modules/vue-pdf/src/pdfjsWrapper.js\n\nç„¶åæ ¹æ®githubä¸Šè¿™ä¸ªissueï¼Œå…¶ä¸­çº¢è‰²çš„æ˜¯è¦åˆ æ‰çš„ï¼Œç»¿è‰²çš„æ˜¯è¦åŠ ä¸Šå»çš„ï¼Œç…§ç€æ”¹å°±å¯ä»¥è§£å†³äº†ã€‚\n\nåœ°å€ï¼š [github.com/FranckFreibâ€¦](https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FFranckFreiburger%2Fvue-pdf%2Fpull%2F130%2Fcommits%2F253f6186ff0676abf9277786087dda8d95dd8ea7 \"https://github.com/FranckFreiburger/vue-pdf/pull/130/commits/253f6186ff0676abf9277786087dda8d95dd8ea7\")\n\næ ¹æ®æˆ‘çš„å®é™…æµ‹è¯•ï¼Œæ˜¯å¯ä»¥è§£å†³æ‰“å°ä¹±ç çš„é—®é¢˜çš„ã€‚","viewCount":250,"createTime":"2022-08-22T03:06:31.992Z","updateTime":"2022-08-22T03:06:31.992Z","__v":0},{"_id":"62c25d8ec97da52b249c7457","title":"Vue3 setup åŸºç¡€åŠå¥‡æŠ€æ·«å·§","markContent":"![](http://developers-center.oss-cn-beijing.aliyuncs.com/undraw_javascript_frameworks_-8-qpc.svg)\n\n## é¡¹ç›®ç»“æ„\n\n```\nâ”œâ”€public\nâ””â”€src\n    â”œâ”€assets\n    â”‚  â”œâ”€images\n    â”‚  â””â”€svg\n    â”œâ”€components\n    â”‚  â””â”€custom-component.vue\n    â”œâ”€core\n    â”‚  â”œâ”€api\n    â”‚  â”œâ”€libs\n    â”‚  â”œâ”€links\n    â”‚  â””â”€utils\n    â”‚      â””â”€request.js\n    â”œâ”€layouts\n    â”œâ”€pages\n    â”‚  â””â”€index.vue\n    â”œâ”€plugins\n    â”œâ”€router\n    â”‚   â””â”€index.js\n    â”œâ”€stores\n    â”œâ”€styles\n    â””â”€themes\n```\n\n## åœ¨jsä¸­ä½¿ç”¨è·¯ç”±è·³è½¬\n\nåœ¨vue3ä¸­æˆ‘ä»¬ä½¿ç”¨comAPIï¼Œä½†æ˜¯åœ¨è‡ªå·±å°è£…çš„jsé‡Œé¢ï¼Œæˆ‘ä»¬ä¸èƒ½ä½¿ç”¨useRouter ,useRouteï¼Œä»–ä»¬éœ€è¦åœ¨setupä¸­è°ƒç”¨æ‰§è¡Œåæ‰èƒ½ç”¨ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨è·¯ç”±å®ä¾‹ï¼š\n\n`/src/core/utils/request.js`\n\n```js\nimport router from '../../router';\nrouter.push('/login')\n```\n\n## å®šä¹‰v-modelå±æ€§\n\n`/src/components/custom-component.vue`\n```\n<template>\n  <div>{{infos}}</div>\n</template>\n<script setup>\nconst props = defineProps(['infos'])\nconst emits = defineEmits(['update:infos'])\nsetTimeout(() => {\n  emits('update:infos', 'hello v-model')\n}, 2000)\n</script>\n```\n\nä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶\n\n`/src/pages/index.vue`\n\n```\n<template>\n  <div>\n    <custom-component v-model:infos=\"infos\"></custom-component>\n  </div>\n</template>\n\n<script setup>\nimport {ref} from 'vue';\nimport CustomComp from '../components/custom-component.vue';\nconst infos = ref('hello custom-comp');\n</script>\n```\n\n## çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶æ–¹æ³•\n\n`å­ç»„ä»¶ Child.vue`\n\n```\n<template>\n  <div>å­é¡µé¢è®¡æ•°ï¼š{{ count }}</div>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\n\nconst count = ref(0);\nconst add = () => {\n  count.value++;\n};\nconst addCustom = (value) => {\n  count.value += value;\n};\ndefineExpose({\n  add,\n  addCustom\n})\n</script>\n```\n\n`çˆ¶ç»„ä»¶ Index.vue`\n```\n<template>\n  <div>\n    <Child ref=\"child\"></Child>\n    <br />\n    çˆ¶é¡µé¢æŒ‰é’®ï¼š<button @click=\"handleAdd\">ç‚¹å‡»+1</button>\n    <br />\n    çˆ¶é¡µé¢æŒ‰é’®ï¼š<button @click=\"handleAddCustom\">(æ·»åŠ è‡ªå®šä¹‰æ•°å€¼)ç‚¹å‡»+10</button>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\nimport Child from \"./Child\";\n\nconst child = ref();\nconst handleAdd = () => {\n  child.value.add();\n};\nconst handleAddCustom = () => {\n  child.value.addCustom(10);\n};\n</script>\n```\n## ä½¿ç”¨ keep-alive ç¼“å­˜ç»„ä»¶çŠ¶æ€\n\n1. ä¿®æ”¹ `<router-view></route-view>` éƒ¨åˆ†\n\n    ```\n    <template>\n      <router-view v-slot=\"{ Component }\">\n        <keep-alive>\n          <component :is=\"Component\"/>\n        </keep-alive>\n      </router-view> \n    </template>\n    ```\n\n2. å­ç»„ä»¶çŠ¶æ€åˆ·æ–°\n\n    - æ–¹æ¡ˆä¸€ ä½¿ç”¨ `keep-alive` çš„ç”Ÿå‘½å‘¨æœŸï¼š`activated`\n    \n        `child.vue`\n        ```\n        <script setup>\n            activated() {\n               // TODO: è¿™é‡Œå¤„ç†éœ€è¦åˆ·æ–°çš„çŠ¶æ€\n            },\n        </script>\n        ```\n    - æ–¹æ¡ˆäºŒ é€šè¿‡ç›‘å¬è·¯ç”±ç­‰å‘ç”Ÿæ”¹å˜éœ€è¦æ”¹å˜çš„åœºæ™¯\n    \n        `child.vue`\n\n        ```\n        <script setup>\n        import {watch} from 'vue';\n        import {useRoute} from 'vue-router';\n        const route = useRoute();\n        watch(() => route.params.id, (id) => {\n          // TODO: è¿™é‡Œå¤„ç†éœ€è¦åˆ·æ–°çš„çŠ¶æ€\n        });\n        </script>\n        ```","viewCount":487,"createTime":"2022-07-04T03:25:02.664Z","updateTime":"2022-08-31T07:20:38.649Z","__v":0},{"_id":"62b52408a3b6a21ae059850b","title":"web(h5)  javascript è¿è¡Œç¯å¢ƒåˆ¤æ–­","markContent":"![](https://developers-center.oss-cn-beijing.aliyuncs.com/undraw_static_assets_rpm6.svg)\n\n## å¾®ä¿¡webview\n\nåˆ¤æ–­ç½‘é¡µæ˜¯å¦åœ¨å¾®ä¿¡ä¸­æ‰“å¼€;\n\n```js\nfunction isWeChat() {\n    return (/MicroMessenger/i.test(window.navigator.userAgent));\n}\n```\n\n## Androidç³»ç»Ÿ\n\nåˆ¤æ–­ç½‘é¡µæ˜¯å¦åœ¨å®‰å“ç³»ç»Ÿä¸­æ‰“å¼€;\n\n```js\nfunction isAndroid() {\n    return /Android/i.test(navigator.userAgent) || /Linux/i.test(navigator.appVersion);\n}\n```\n## è‹¹æœæ‰‹æœº\n\nåˆ¤æ–­ç½‘é¡µæ˜¯å¦åœ¨è‹¹æœæ‰‹æœºä¸­æ‰“å¼€;\n\n```js\nfunction isIphone() {\n    return /iPhone/i.test(navigator.userAgent);\n}\n```\n\n## Iosç³»ç»Ÿ\n\nåˆ¤æ–­ç½‘é¡µæ˜¯å¦åœ¨Iosç³»ç»Ÿä¸­æ‰“å¼€;\n\n```js\nfunction isIOS() {\n    return (/ipad|iphone/i.test(navigator.userAgent));\n}\n```\n## Safariæµè§ˆå™¨\n\nåˆ¤æ–­ç½‘é¡µæ˜¯å¦åœ¨Safariæµè§ˆå™¨ä¸­æ‰“å¼€;\n\n```js\nfunction isSafari() {\n    return (/msie|applewebkit.+safari/i.test(navigator.userAgent));\n}\n```\n\n## Windows\n\nåˆ¤æ–­ç½‘é¡µæ˜¯å¦åœ¨Windowsç³»ç»Ÿä¸­æ‰“å¼€;\n\n```js\nfunction isWindows() {\n    return /windows|win32/i.test(navigator.userAgent);\n}\n```\n\n## Mac\n\nåˆ¤æ–­ç½‘é¡µæ˜¯å¦åœ¨Macç³»ç»Ÿä¸­æ‰“å¼€;\n\n```js\nfunction isMac() {\n    return /macintosh|mac os x/i.test(navigator.userAgent);\n}\n```\n\n## ç§»åŠ¨ç«¯(æ‰‹æœº)\n\nåˆ¤æ–­ç½‘é¡µæ˜¯å¦åœ¨ç§»åŠ¨ç«¯æ‰“å¼€;\n\n```js\nfunction isMobile() {\n    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)\n}\n```\n\n## PWA(Progressive web appsï¼Œæ¸è¿›å¼ Web åº”ç”¨)\n\nåˆ¤æ–­ç½‘é¡µæ˜¯å¦ä»¥PWAæ¨¡å¼æ‰“å¼€;\n\n```js\nfunction isPwa() {\n    return [\"fullscreen\", \"standalone\", \"minimal-ui\"].some(\n        (displayMode) => window.matchMedia('(display-mode: ' + displayMode + ')').matches\n    );\n}\n```\n\n## å®Œæ•´ä»£ç å¯ç›´æ¥å¤åˆ¶ä½¿ç”¨\n\n`runtime-env.js` `runtime-env.ts`\n\n```js\nexport class RuntimeEnv {\n  /**\n   * å¾®ä¿¡webview\n   * @return {boolean}\n   */\n  static isWeChat() {\n    return (/MicroMessenger/i.test(window.navigator.userAgent));\n  }\n  /**\n   * Androidç³»ç»Ÿ\n   * @return {boolean}\n   */\n  static isAndroid() {\n    return /Android/i.test(navigator.userAgent) || /Linux/i.test(navigator.appVersion);\n  }\n  /**\n   * è‹¹æœæ‰‹æœº\n   * @return {boolean}\n   */\n  static isIphone() {\n    return /iPhone/i.test(navigator.userAgent);\n  }\n  /**\n   * Iosç³»ç»Ÿ\n   * @return {boolean}\n   */\n  static isIOS() {\n    return (/ipad|iphone/i.test(navigator.userAgent));\n  }\n  /**\n   * Safariæµè§ˆå™¨\n   * @return {boolean}\n   */\n  static isSafari() {\n    return (/msie|applewebkit.+safari/i.test(navigator.userAgent));\n  }\n  /**\n   * Windows\n   * @return {boolean}\n   */\n  static isWindows() {\n    return /windows|win32/i.test(navigator.userAgent);\n  }\n  /**\n   * Mac\n   * @return {boolean}\n   */\n  static isMac() {\n    return /macintosh|mac os x/i.test(navigator.userAgent);\n  }\n  static isMobile() {\n    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)\n  }\n  static isPwa() {\n    return [\"fullscreen\", \"standalone\", \"minimal-ui\"].some(\n        (displayMode) => window.matchMedia('(display-mode: ' + displayMode + ')').matches\n    );\n  }\n}\n```","viewCount":342,"createTime":"2022-06-24T02:40:08.605Z","updateTime":"2022-07-04T02:23:25.527Z","__v":0},{"_id":"62b277ed3e9326646e1f6074","title":"Webé€‚é… iPhoneXï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•","markContent":"iPhoneX å–æ¶ˆäº†ç‰©ç†æŒ‰é”®ï¼Œæ”¹æˆåº•éƒ¨å°é»‘æ¡ï¼Œè¿™ä¸€æ”¹åŠ¨å¯¼è‡´ç½‘é¡µå‡ºç°äº†æ¯”è¾ƒå°´å°¬çš„å±å¹•é€‚é…é—®é¢˜ã€‚å¯¹äºç½‘é¡µè€Œè¨€ï¼Œé¡¶éƒ¨ï¼ˆåˆ˜æµ·éƒ¨ä½ï¼‰çš„é€‚é…é—®é¢˜æµè§ˆå™¨å·²ç»åšäº†å¤„ç†ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å…³æ³¨åº•éƒ¨ä¸å°é»‘æ¡çš„é€‚é…é—®é¢˜å³å¯ï¼ˆå³å¸¸è§çš„å¸åº•å¯¼èˆªã€è¿”å›é¡¶éƒ¨ç­‰å„ç§ç›¸å¯¹åº•éƒ¨ fixed å®šä½çš„å…ƒç´ ï¼‰ã€‚\n\nç¬”è€…é€šè¿‡æŸ¥é˜…äº†ä¸€äº›å®˜æ–¹æ–‡æ¡£ï¼Œä»¥åŠç»“åˆå®é™…é¡¹ç›®ä¸­çš„ä¸€äº›å¤„ç†ç»éªŒï¼Œæ•´ç†äº†ä¸€å¥—ç®€å•çš„é€‚é…æ–¹æ¡ˆåˆ†äº«ç»™å¤§å®¶ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï¼Œä»¥ä¸‹æ˜¯å¤„ç†å‰åæ•ˆæœå›¾ï¼š\n\n![](http://developers-center.oss-cn-beijing.aliyuncs.com/2692140-3ce5b351236f8139.png)\n\n## é€‚é…ä¹‹å‰éœ€è¦äº†è§£çš„å‡ ä¸ªæ–°çŸ¥è¯†\n\n### å®‰å…¨åŒºåŸŸ\n\nå®‰å…¨åŒºåŸŸæŒ‡çš„æ˜¯ä¸€ä¸ªå¯è§†çª—å£èŒƒå›´ï¼Œå¤„äºå®‰å…¨åŒºåŸŸçš„å†…å®¹ä¸å—åœ†è§’ï¼ˆcornersï¼‰ã€é½åˆ˜æµ·ï¼ˆsensor housingï¼‰ã€å°é»‘æ¡ï¼ˆHome Indicatorï¼‰å½±å“ï¼Œå¦‚ä¸‹å›¾è“è‰²åŒºåŸŸï¼š\n\n![](http://developers-center.oss-cn-beijing.aliyuncs.com/2692140-d9540c615721d55f.png)\n\nä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬è¦åšå¥½é€‚é…ï¼Œå¿…é¡»ä¿è¯é¡µé¢å¯è§†ã€å¯æ“ä½œåŒºåŸŸæ˜¯åœ¨å®‰å…¨åŒºåŸŸå†…ã€‚\n\næ›´è¯¦ç»†è¯´æ˜ï¼Œå‚è€ƒæ–‡æ¡£ï¼šÂ [Human Interface Guidelines - iPhoneX](https://developer.apple.com/ios/human-interface-guidelines/overview/iphone-x/)\n\n### viewport-fit\n\niOS11 æ–°å¢ç‰¹æ€§ï¼Œè‹¹æœå…¬å¸ä¸ºäº†é€‚é… iPhoneX å¯¹ç°æœ‰ viewport meta æ ‡ç­¾çš„ä¸€ä¸ªæ‰©å±•ï¼Œç”¨äºè®¾ç½®ç½‘é¡µåœ¨å¯è§†çª—å£çš„å¸ƒå±€æ–¹å¼ï¼Œå¯è®¾ç½®ä¸‰ä¸ªå€¼ï¼š\n\n-   contain: å¯è§†çª—å£å®Œå…¨åŒ…å«ç½‘é¡µå†…å®¹ï¼ˆå·¦å›¾ï¼‰\n-   coverï¼šç½‘é¡µå†…å®¹å®Œå…¨è¦†ç›–å¯è§†çª—å£ï¼ˆå³å›¾ï¼‰\n-   autoï¼šé»˜è®¤å€¼ï¼Œè·Ÿ contain è¡¨ç°ä¸€è‡´\n\n![](http://developers-center.oss-cn-beijing.aliyuncs.com/2692140-a6dde8b38ea30aff.png)\n\n> æ³¨æ„ï¼šç½‘é¡µé»˜è®¤ä¸æ·»åŠ æ‰©å±•çš„è¡¨ç°æ˜¯ viewport-fit=containï¼Œéœ€è¦é€‚é… iPhoneX å¿…é¡»è®¾ç½® viewport-fit=coverï¼Œè¿™æ˜¯é€‚é…çš„å…³é”®æ­¥éª¤ã€‚\n\næ›´è¯¦ç»†è¯´æ˜ï¼Œå‚è€ƒæ–‡æ¡£ï¼šÂ [viewport-fit-descriptor](https://www.w3.org/TR/css-round-display-1/#viewport-fit-descriptor)\n\n### env() å’Œ constant()\n\niOS11 æ–°å¢ç‰¹æ€§ï¼ŒWebkit çš„ä¸€ä¸ª CSS å‡½æ•°ï¼Œç”¨äºè®¾å®šå®‰å…¨åŒºåŸŸä¸è¾¹ç•Œçš„è·ç¦»ï¼Œæœ‰å››ä¸ªé¢„å®šä¹‰çš„å˜é‡ï¼š\n\n-   safe-area-inset-leftï¼šå®‰å…¨åŒºåŸŸè·ç¦»å·¦è¾¹è¾¹ç•Œè·ç¦»\n-   safe-area-inset-rightï¼šå®‰å…¨åŒºåŸŸè·ç¦»å³è¾¹è¾¹ç•Œè·ç¦»\n-   safe-area-inset-topï¼šå®‰å…¨åŒºåŸŸè·ç¦»é¡¶éƒ¨è¾¹ç•Œè·ç¦»\n-   safe-area-inset-bottomï¼šå®‰å…¨åŒºåŸŸè·ç¦»åº•éƒ¨è¾¹ç•Œè·ç¦»\n\nè¿™é‡Œæˆ‘ä»¬åªéœ€è¦å…³æ³¨ safe-area-inset-bottom è¿™ä¸ªå˜é‡ï¼Œå› ä¸ºå®ƒå¯¹åº”çš„å°±æ˜¯å°é»‘æ¡çš„é«˜åº¦ï¼ˆæ¨ªç«–å±æ—¶å€¼ä¸ä¸€æ ·ï¼‰ã€‚\n\n> æ³¨æ„ï¼šå½“ viewport-fit=contain æ—¶ env() æ˜¯ä¸èµ·ä½œç”¨çš„ï¼Œå¿…é¡»è¦é…åˆ viewport-fit=cover ä½¿ç”¨ã€‚å¯¹äºä¸æ”¯æŒenv() çš„æµè§ˆå™¨ï¼Œæµè§ˆå™¨å°†ä¼šå¿½ç•¥å®ƒã€‚\n\nåœ¨è¿™ä¹‹å‰ï¼Œç¬”è€…ä½¿ç”¨çš„æ˜¯ constant()ï¼Œåæ¥ï¼Œå®˜æ–¹æ–‡æ¡£åŠ äº†è¿™ä¹ˆä¸€æ®µæ³¨é‡Šï¼ˆå‘ï¼‰ï¼š\n\n> The env() function shipped in iOS 11 with the name constant(). Beginning with Safari Technology Preview 41 and the iOS 11.2 beta, constant() has been removed and replaced with env(). You can use the CSS fallback mechanism to support both versions, if necessary, but should prefer env() going forward.\n\nè¿™å°±æ„å‘³ç€ï¼Œä¹‹å‰ä½¿ç”¨çš„ constant() åœ¨ iOS11.2 ä¹‹åå°±ä¸èƒ½ä½¿ç”¨çš„ï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯éœ€è¦åšå‘åå…¼å®¹ï¼Œåƒè¿™æ ·ï¼š\n\n```\npadding-bottom: constant(safe-area-inset-bottom); /* å…¼å®¹ iOS < 11.2 */\npadding-bottom: env(safe-area-inset-bottom); /* å…¼å®¹ iOS >= 11.2 */\n```\n\næ³¨æ„ï¼šenv() è·Ÿ constant() éœ€è¦åŒæ—¶å­˜åœ¨ï¼Œè€Œä¸”é¡ºåºä¸èƒ½æ¢ã€‚\n\næ›´è¯¦ç»†è¯´æ˜ï¼Œå‚è€ƒæ–‡æ¡£ï¼šÂ [Designing Websites for iPhone X](https://webkit.org/blog/7929/designing-websites-for-iphone-x/?hmsr=funteas.com&utm_medium=funteas.com&utm_source=funteas.com)\n\n## å¦‚ä½•é€‚é…\n\näº†è§£äº†ä»¥ä¸Šæ‰€è¯´çš„å‡ ä¸ªçŸ¥è¯†ç‚¹ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬é€‚é…çš„æ€è·¯å°±å¾ˆæ¸…æ™°äº†ã€‚\n\n### ç¬¬ä¸€æ­¥ï¼šè®¾ç½®ç½‘é¡µåœ¨å¯è§†çª—å£çš„å¸ƒå±€æ–¹å¼\n\næ–°å¢ viweport-fit å±æ€§ï¼Œä½¿å¾—é¡µé¢å†…å®¹å®Œå…¨è¦†ç›–æ•´ä¸ªçª—å£ï¼š\n\n```\n<meta name=\"viewport\" content=\"width=device-width, viewport-fit=cover\">\n```\n\nå‰é¢ä¹Ÿæœ‰æåˆ°è¿‡ï¼Œåªæœ‰è®¾ç½®äº† viewport-fit=coverï¼Œæ‰èƒ½ä½¿ç”¨ env()ã€‚\n\n### ç¬¬äºŒæ­¥ï¼šé¡µé¢ä¸»ä½“å†…å®¹é™å®šåœ¨å®‰å…¨åŒºåŸŸå†…\n\nè¿™ä¸€æ­¥æ ¹æ®å®é™…é¡µé¢åœºæ™¯é€‰æ‹©ï¼Œå¦‚æœä¸è®¾ç½®è¿™ä¸ªå€¼ï¼Œå¯èƒ½å­˜åœ¨å°é»‘æ¡é®æŒ¡é¡µé¢æœ€åº•éƒ¨å†…å®¹çš„æƒ…å†µã€‚\n\n```\nbody {\n  padding-bottom: constant(safe-area-inset-bottom);\n  padding-bottom: env(safe-area-inset-bottom);\n}\n```\n\n### ç¬¬ä¸‰æ­¥ï¼šfixed å…ƒç´ çš„é€‚é…\n\n#### ç±»å‹ä¸€ï¼šfixed å®Œå…¨å¸åº•å…ƒç´ ï¼ˆbottom = 0ï¼‰ï¼Œæ¯”å¦‚ä¸‹å›¾è¿™ä¸¤ç§æƒ…å†µï¼š\n\n\n![](http://developers-center.oss-cn-beijing.aliyuncs.com/2692140-2418ec8e3d444790.png)\n\nå¯ä»¥é€šè¿‡åŠ å†…è¾¹è· padding æ‰©å±•é«˜åº¦ï¼š\n\n```\n{\n  padding-bottom: constant(safe-area-inset-bottom);\n  padding-bottom: env(safe-area-inset-bottom);\n}\n```\n\næˆ–è€…é€šè¿‡è®¡ç®—å‡½æ•° calc è¦†ç›–åŸæ¥é«˜åº¦ï¼š\n\n```\n{\n  height: calc(60px(å‡è®¾å€¼) + constant(safe-area-inset-bottom));\n  height: calc(60px(å‡è®¾å€¼) + env(safe-area-inset-bottom));\n}\n```\n\n> æ³¨æ„ï¼Œè¿™ä¸ªæ–¹æ¡ˆéœ€è¦å¸åº•æ¡å¿…é¡»æ˜¯æœ‰èƒŒæ™¯è‰²çš„ï¼Œå› ä¸ºæ‰©å±•çš„éƒ¨åˆ†èƒŒæ™¯æ˜¯è·Ÿéšå¤–å®¹å™¨çš„ï¼Œå¦åˆ™å‡ºç°é•‚ç©ºæƒ…å†µã€‚\n\nè¿˜æœ‰ä¸€ç§æ–¹æ¡ˆå°±æ˜¯ï¼Œå¯ä»¥é€šè¿‡æ–°å¢ä¸€ä¸ªæ–°çš„å…ƒç´ ï¼ˆç©ºçš„é¢œè‰²å—ï¼Œä¸»è¦ç”¨äºå°é»‘æ¡é«˜åº¦çš„å ä½ï¼‰ï¼Œç„¶åå¸åº•å…ƒç´ å¯ä»¥ä¸æ”¹å˜é«˜åº¦åªéœ€è¦è°ƒæ•´ä½ç½®ï¼Œåƒè¿™æ ·ï¼š\n\n```\n{\n  margin-bottom: constant(safe-area-inset-bottom);\n  margin-bottom: env(safe-area-inset-bottom);\n}\n```\n\nç©ºçš„é¢œè‰²å—ï¼š\n\n```\n{\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n  height: constant(safe-area-inset-bottom);\n  height: env(safe-area-inset-bottom);\n  background-color: #fff;\n}\n```\n\n#### ç±»å‹äºŒï¼šfixed éå®Œå…¨å¸åº•å…ƒç´ ï¼ˆbottom â‰  0ï¼‰ï¼Œæ¯”å¦‚ â€œè¿”å›é¡¶éƒ¨â€ã€â€œä¾§è¾¹å¹¿å‘Šâ€ ç­‰\n\nåƒè¿™ç§åªæ˜¯ä½ç½®éœ€è¦å¯¹åº”å‘ä¸Šè°ƒæ•´ï¼Œå¯ä»¥ä»…é€šè¿‡å¤–è¾¹è· margin æ¥å¤„ç†ï¼š\n\n```\n{\n  margin-bottom: constant(safe-area-inset-bottom);\n  margin-bottom: env(safe-area-inset-bottom);\n}\n```\n\næˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡è®¡ç®—å‡½æ•° calc è¦†ç›–åŸæ¥ bottom å€¼ï¼š\n\n```\n{\n  bottom: calc(50px(å‡è®¾å€¼) + constant(safe-area-inset-bottom));\n  bottom: calc(50px(å‡è®¾å€¼) + env(safe-area-inset-bottom));\n}\n```\n\n### ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ @supports éš”ç¦»å…¼å®¹æ ·å¼\n\nå†™åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å¸¸è§çš„ä¸¤ç§ç±»å‹çš„ fixed å…ƒç´ é€‚é…æ–¹æ¡ˆå·²ç»äº†è§£äº†å§ã€‚å¦‚æœæˆ‘ä»¬åªå¸Œæœ› iPhoneX æ‰éœ€è¦æ–°å¢é€‚é…æ ·å¼ï¼Œæˆ‘ä»¬å¯ä»¥é…åˆ @supports æ¥éš”ç¦»å…¼å®¹æ ·å¼ï¼Œå½“ç„¶è¿™ä¸ªå¤„ç†å¯¹é¡µé¢å±•ç¤ºå®é™…ä¸ä¼šæœ‰ä»»ä½•å½±å“ï¼š\n\n```\n@supports (bottom: constant(safe-area-inset-bottom)) or (bottom: env(safe-area-inset-bottom)) {\n  div {\n    margin-bottom: constant(safe-area-inset-bottom);\n    margin-bottom: env(safe-area-inset-bottom);\n  }\n}\n```\n\n## å†™åœ¨æœ€å\n\nä»¥ä¸Šå‡ ç§æ–¹æ¡ˆä»…ä¾›å‚è€ƒï¼Œç¬”è€…è®¤ä¸ºï¼Œç°é˜¶æ®µé€‚é…å¤„ç†èµ·æ¥æ˜¯æœ‰ç‚¹æŠ˜è…¾ï¼Œä½†æ˜¯è‡³å°‘èƒ½è§£å†³ï¼Œå…·ä½“éœ€è¦æ ¹æ®é¡µé¢å®é™…åœºæ™¯ï¼Œåœ¨ä¸å½±å“ç”¨æˆ·ä½“éªŒä¸æ“ä½œçš„å¤§å‰æä¸‹ä¸æ–­å°è¯•ä¸æ¢ç´¢ï¼Œæ‰èƒ½æ›´å®Œç¾çš„é€‚é…ã€‚\n\næ¥æº: [äº¬ä¸œé›¶å”®å®˜æ–¹è®¾è®¡ä½“éªŒå¹³å°](https://jelly.jd.com/article/6006b1055b6c6a01506c87fd)","viewCount":97,"createTime":"2022-06-22T02:01:17.278Z","updateTime":"2022-06-22T02:01:17.278Z","__v":0},{"_id":"62abe9c1957f80472322d1cd","title":"Vue TypeScript  ä½¿ç”¨ Mixins","markContent":"![](http://developers-center.oss-cn-beijing.aliyuncs.com/undraw_javascript_frameworks_-8-qpc.svg)\n\n## èƒŒæ™¯\n\né¡¹ç›®ä¸­çš„å¤šä¸ªé¡µé¢å…¶ä¸­çš„å˜é‡åŠæ–¹æ³•é‡å¤å‡ºç°ï¼Œæ¯ä¸ªé¡µé¢ç»„ä»¶éƒ½å»æ‰‹å†™ä¸€éï¼Œè¿™æ ·çš„ä»£ç é‡å¤ªå¤§ï¼Œä¸åˆ©äºç»´æŠ¤ã€‚\n\nå…¶æ¬¡è¿™æ ·çš„ä»£ç ä¹Ÿä¸æ˜¯ç‰¹åˆ«ä¼˜é›…ï¼Œé‚£ä¹ˆå¦‚ä½•è®©ä»£ç æ›´ä¼˜é›…å‘¢ï¼Ÿç†Ÿæ‚‰é¢å‘å¯¹è±¡ç¼–ç¨‹çš„é€‰æ‰‹éƒ½ä¼šæƒ³åˆ°é€šè¿‡ç»§æ‰¿å»æŠŠç›¸ä¼¼çš„ç±»çš„æ“ä½œé€šè¿‡ç»§æ‰¿æ¥å®ç°ã€‚\n\né‚£ä¹ˆè¿™æ ·çš„ç»§æ‰¿åœ¨vueä¸­æ€ä¹ˆå®ç°å‘¢ï¼Ÿ\n\n## ç¯å¢ƒ\n\n* ![](https://img.shields.io/badge/vue-2.6.10-green)\n* ![](https://img.shields.io/badge/vue--cli-4.5.17-green)\n* ![](https://img.shields.io/badge/typescript-4.7.3-blue)\n* ![](https://img.shields.io/badge/vue--class--component-^7.2.6-green)\n* ![](https://img.shields.io/badge/vue--property--decorator-^9.1.2-green)\n\n## å®ç°\n\nä¸Šé¢ç†è®ºæœ‰äº† æ¥ä¸‹æ¥å°±æ˜¯å®è·µäº†\n\n### åˆ›å»º mixin æ–‡ä»¶\n\n`test.mixin.ts`\n\n```typescript\nimport { Vue, Provide, Component } from \"vue-property-decorator\";\n@Component\nexport default class TestMixin extends Vue {\n  @Provide() protected version: string = \"1.0.0\";\n}\n```\n\n### ä½¿ç”¨ mixins\n\n```\n\n<template>\n  <button @click=\"handlerClick\">button</button>\n</template>\n\n<script lang=\"ts\">\nimport TestMixin from \"@/mixins/test.mixin\";\nimport Test2Mixin from \"@/mixins/test2.mixin\";\nimport {Component, Mixins} from \"vue-property-decorator\";\n\n@Component()\nexport default class Home extends Mixins(TestMixin, Test2Mixin) {\n  private handlerClick() {\n    console.log(this.version);\n  }\n}\n</script>\n\n```\n","viewCount":158,"createTime":"2022-06-17T02:41:05.050Z","updateTime":"2022-06-17T02:49:16.433Z","__v":0},{"_id":"62aa9049957f80472322d145","title":"vue 2 typescript ç»å¯¹è·¯å¾„é…ç½®","markContent":"![](http://developers-center.oss-cn-beijing.aliyuncs.com/undraw_javascript_frameworks_-8-qpc.svg)\n\n## èƒŒæ™¯\n\nåœ¨ç»´æŠ¤å·²æœ‰çš„ vue 2 é¡¹ç›®çš„æ—¶å€™å¼•å…¥äº† typescript è¿›è¡Œæ··åˆå¼€å‘ï¼Œæ–°çš„æ¨¡å—ä½¿ç”¨ typescript å¼€å‘ï¼Œæ—§çš„æ¨¡å—ä½¿ç”¨ vue å¼€å‘ï¼Œè¿™æ ·çš„æ··åˆå¼€å‘æ–¹å¼ [å…·ä½“æ··åˆæ–¹æ¡ˆå¯ä»¥çœ‹è¿™é‡Œ](http://developer.bulv.life/blogs/62a7e9c7957f80472322d084)ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¼šå‡ºç°ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚ï¼š\n\né¡¹ç›®ä¸­tsæ–‡ä»¶åŠç»„ä»¶åªèƒ½ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°ç±»ä¼¼å¦‚ä¸‹çš„ä»£ç ï¼š\n\n```js\nimport Button from '../../../../components/upload/Upload'\n```\nå¾ˆæ˜¾ç„¶ï¼Œè¿™æ ·çš„è·¯å¾„å¾ˆé•¿ï¼Œå¦‚æœç»„ä»¶å±‚æ¬¡å¾ˆæ·±ï¼Œé‚£ä¹ˆç›¸å¯¹è·¯å¾„å°±ä¼šå¾ˆé•¿ï¼Œå› æ­¤è¿™ç§æƒ…å†µä¸‹å¾ˆæœ‰å¿…è¦ä½¿ç”¨ç»å¯¹è·¯å¾„ã€‚\n\n## ç¯å¢ƒ\n\n* ![](https://img.shields.io/badge/vue-2.6.10-green)\n* ![](https://img.shields.io/badge/vue--cli-4.5.17-green)\n* ![](https://img.shields.io/badge/typescript-4.7.3-blue)\n\n## è§£å†³æ–¹æ¡ˆ\n\nåœ¨webpackä¸­ï¼Œä½¿ç”¨aliasåŠŸèƒ½ï¼Œå¯ä»¥ä½¿å¾—æˆ‘ä»¬ä½¿ç”¨ç»å¯¹è·¯å¾„. `webpack.config.js`\n\n```js\nmodule.exports = {\n  //...\n  resolve: {\n    alias: {\n      '@src': path.resolve(__dirname, '../src')\n    }\n  }\n}\n```\n\nè€Œæˆ‘ä»¬çš„é¡¹ç›®ä¸º vue-cli 4.xï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦åœ¨ `vue.config.js` ä¸­é…ç½® `resolve` å±æ€§ï¼Œå¹¶ä¸”é…ç½® `alias` å±æ€§ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ç»å¯¹è·¯å¾„äº†ã€‚\n\n`vue.config.js`\n\n```js\nconst path = require(\"path\");\nmodule.exports = {\n  configureWebpack: {\n    resolve: {\n      alias: {\n        \"@\": path.resolve(__dirname, \"./src\"),\n      }\n    }\n  }\n}\n```\nè€Œé¡¹ç›®æœ¬èº«åœ¨æœªè¿›è¡Œtsæ··åˆå¼€å‘çš„æ—¶å€™ï¼Œå°±ä¸éœ€è¦é…ç½® `resolve` å±æ€§ï¼Œä¾¿å¯ä»¥ç›´æ¥ä½¿ç”¨ç»å¯¹è·¯å¾„äº†ï¼Œè¿™æ˜¯ç”±äº vue-cli å·²ç»é»˜è®¤å¸®æˆ‘ä»¬é…ç½®å¥½äº†ã€‚ \n\nç”±æ­¤çœ‹æ¥æˆ‘ä»¬çš„é¡¹ç›®å¹¶éæ˜¯ `webpack` é…ç½®å¼•å‘çš„æ— æ³•ä½¿ç”¨ç»å¯¹è·¯å¾„çš„é—®é¢˜ï¼Œè€Œæ˜¯ typeScript ä¸è®¤è¯†webpackçš„é…ç½®çš„ç»å¯¹è·¯å¾„çš„é—®é¢˜ã€‚\n\næ‰€ä»¥åœ¨ `tsconfig.json` ä¸­é…ç½® `compilerOptions` å±æ€§ï¼Œå¹¶ä¸”é…ç½® `paths` å±æ€§ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ç»å¯¹è·¯å¾„äº†ã€‚\n\n```json\n{\n  \"baseUrl\": \".\",\n  \"compilerOptions\": {\n    \"paths\": {\n      \"@/*\": [\n        \"src/*\"\n      ]\n    }\n  }\n}\n```\n\nåˆ°æ­¤æˆ‘ä»¬å°±å¯ä»¥æ”¾å¿ƒä½¿ç”¨ç»å¯¹è·¯å¾„äº†ã€‚","viewCount":102,"createTime":"2022-06-16T02:07:05.423Z","updateTime":"2022-06-16T02:07:05.423Z","__v":0},{"_id":"62a93f57957f80472322d0df","title":"vue2 é›†æˆ esbuild","markContent":"![](http://developers-center.oss-cn-beijing.aliyuncs.com/undraw_javascript_frameworks_-8-qpc.svg)\n## ç¯å¢ƒ\n\n* ![](https://img.shields.io/badge/vue-2.6.10-green)\n* ![](https://img.shields.io/badge/vue--cli-4.5.17-green)\n* ![](https://img.shields.io/badge/typescript-4.7.3-blue)\n\n## é…ç½®\n\n\né…ç½®æ¯”è¾ƒç®€å•ï¼Œç›´æ¥è´´ä»£ç äº†ï¼š\n\n```\n// vue.config.js\n\nconst { ESBuildMinifyPlugin } = require('esbuild-loader');\n\nmodule.exports = {\n  // ...\n\n  chainWebpack: (config) => {\n    // ä½¿ç”¨ esbuild ç¼–è¯‘ js æ–‡ä»¶\n    const rule = config.module.rule('js');\n\n    // æ¸…ç†è‡ªå¸¦çš„ babel-loader\n    rule.uses.clear();\n\n    // æ·»åŠ  esbuild-loader\n    rule\n      .use('esbuild-loader')\n      .loader('esbuild-loader')\n      .options({\n        loader: 'ts', // å¦‚æœä½¿ç”¨äº† ts, æˆ–è€… vue çš„ class è£…é¥°å™¨ï¼Œåˆ™éœ€è¦åŠ ä¸Šè¿™ä¸ª option é…ç½®ï¼Œ å¦åˆ™ä¼šæŠ¥é”™ï¼š ERROR: Unexpected \"@\"\n        target: 'es2015',\n        tsconfigRaw: require('./tsconfig.json')\n      })\n\n    // åˆ é™¤åº•å±‚ terser, æ¢ç”¨ esbuild-minimize-plugin\n    config.optimization.minimizers.delete('terser');\n\n    // ä½¿ç”¨ esbuild ä¼˜åŒ– css å‹ç¼©\n    config.optimization\n      .minimizer('esbuild')\n      .use(ESBuildMinifyPlugin, [{ minify: true, css: true }]);\n  }\n}\n\n```\n\n## äº†è§£ esbuild\n\n\n1.  [ã€Œ ä¸æ‡‚å°±é—® ã€esbuild å¿«åœ¨å“ªé‡Œ ?](https://link.juejin.cn?target=https%3A%2F%2Fsegmentfault.com%2Fa%2F1190000040076960 \"https://segmentfault.com/a/1190000040076960\")\n1.  [ã€Œ ä¸æ‡‚å°±é—® ã€webpack æ‰“åŒ…çš„æ€§èƒ½ç“¶é¢ˆåœ¨å“ªé‡Œ ï¼Ÿ](https://link.juejin.cn?target=https%3A%2F%2Fsegmentfault.com%2Fa%2F1190000040083830 \"https://segmentfault.com/a/1190000040083830\")","viewCount":231,"createTime":"2022-06-15T02:09:27.122Z","updateTime":"2022-06-15T02:09:27.122Z","__v":0},{"_id":"62a7e9c7957f80472322d084","title":"Vueé¡¹ç›®åŠ å…¥TypeScript  jsï¼Œts æ··åˆ","markContent":"\n![](http://developers-center.oss-cn-beijing.aliyuncs.com/undraw_javascript_frameworks_-8-qpc.svg)\n\n\nå†™ä¹ æƒ¯tsåå°±ä¸æƒ³å†™jsäº†ï¼Œæ­£å¥½æŠŠæ‰‹å¤´çš„çº¯jsé¡¹ç›®è½¬æˆæ··åˆçš„ï¼Œæ–°ä»£ç ç”¨tsï¼Œæ—§ä»£ç æ…¢æ…¢æ”¹é€ \n\n## package.jsonéœ€è¦ä¸‹è½½çš„åº“\n\n```\n// webpackä¸­çš„ts-loader\n\"ts-loader\"\n// ä¸è§£é‡Š\n\"typescript\"\n// ä¸‹é¢ä¸¤ä¸ªæ˜¯vue tsç›¸å…³çš„\n\"vue-class-component\"\n\"vue-property-decorator\"\n```\n\n## tsconfigç›¸å…³ï¼ˆé…ç½®å®Œåè¦é‡å¯IDEï¼‰\n\n1.  æ ¹ç›®å½•å»ºä¸€ä¸ª **vue-shim.d.ts** æ–‡ä»¶\n\n```\ndeclare module '*.vue' {\n  import Vue from 'vue';\n\n  export default Vue;\n}\n\n// overwrite windowï¼Œè¿™å—ä»£ç åªæ˜¯ä¸¾ä¸ªä¾‹å­ï¼Œæ ¹æ®ä½ éœ€è¦æ¥\ninterface Window {\n  _actions: Array<string>;\n}\n\n```\n\n2.  æ ¹ç›®å½•å»ºä¸€ä¸ª **tsconfig.json** æ–‡ä»¶\n\n```\n{\n  \"compilerOptions\": {\n    \"baseUrl\": \".\",\n    \"experimentalDecorators\": true,\n    \"emitDecoratorMetadata\": true,\n    \"strict\": true,\n    \"allowJs\": true,\n    \"sourceMap\": true,\n    \"moduleResolution\": \"node\"\n  },\n  \"include\": [\n    \"src/**/*\"\n  ],\n  \"exclude\": [\n    \"node_modules\",\n  ],\n  \"files\": [\n    \"./vue-shim.d.ts\"\n  ]\n}\n```\n\n## webpacké…ç½®(vue.config.js)\n\nå› ä¸ºæ˜¯ä½¿ç”¨vue-cliåˆ›å»ºçš„é¡¹ç›®ï¼Œæ‰€ä»¥åœ¨vue.config.jsé‡Œä¿®æ”¹ã€‚åªéœ€è¦ä¿®æ”¹ä¸‰ä¸ªåœ°æ–¹å°±å¥½\n\n```\n\nmodule.exports = {\n    resolve: {\n        extensions: ['.ts', '.tsx', '.js', '.json'],\n    }\n    configureWebpack: {\n        resolve: { extensions: [\".ts\", \".tsx\", \".js\", \".json\"] },\n        module: {\n            rules: [\n                {\n                  test: /\\.tsx?$/,\n                  loader: 'ts-loader',\n                  exclude: /node_modules/,\n                  options: {\n                    appendTsSuffixTo: [/\\.vue$/],\n                  }\n                }\n            ]\n        }\n    }\n}\n```","viewCount":154,"createTime":"2022-06-14T01:52:07.685Z","updateTime":"2022-06-14T01:56:22.440Z","__v":0},{"_id":"62a6937ca06dc621e3fce438","title":"echarts æ¸å˜è‰² çš„ä½¿ç”¨","markContent":"![](http://developers-center.oss-cn-beijing.aliyuncs.com/undraw_static_assets_rpm6.svg)\n## 1.åœ¨ color ä¸­é…ç½®æ¸å˜è‰²ï¼š\n\n[echarts é…ç½®é¡¹](https://echarts.apache.org/zh/option.html)\n\n```javascript\n// çº¿æ€§æ¸å˜ï¼Œå‰å››ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ x0, y0, x2, y2, èŒƒå›´ä» 0 - 1ï¼Œç›¸å½“äºåœ¨å›¾å½¢åŒ…å›´ç›’ä¸­çš„ç™¾åˆ†æ¯”ï¼Œå¦‚æœ globalCoord ä¸º `true`ï¼Œåˆ™è¯¥å››ä¸ªå€¼æ˜¯ç»å¯¹çš„åƒç´ ä½ç½®\nconst linearGradientColor = {\n    type: 'linear',\n    x: 0,\n    y: 0,\n    x2: 0,\n    y2: 1,\n    colorStops: [{\n        offset: 0, color: 'red' // 0% å¤„çš„é¢œè‰²\n    }, {\n        offset: 1, color: 'blue' // 100% å¤„çš„é¢œè‰²\n    }],\n    globalCoord: false // ç¼ºçœä¸º false\n};\n// å¾„å‘æ¸å˜ï¼Œå‰ä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯åœ†å¿ƒ x, y å’ŒåŠå¾„ï¼Œå–å€¼åŒçº¿æ€§æ¸å˜\nconst radialGradientColor = {\n    type: 'radial',\n    x: 0.5,\n    y: 0.5,\n    r: 0.5,\n    colorStops: [{\n        offset: 0, color: 'red' // 0% å¤„çš„é¢œè‰²\n    }, {\n        offset: 1, color: 'blue' // 100% å¤„çš„é¢œè‰²\n    }],\n    globalCoord: false // ç¼ºçœä¸º false\n}\n// çº¹ç†å¡«å……\nconst textureFillColor = {\n    image: imageDom, // æ”¯æŒä¸º HTMLImageElement, HTMLCanvasElementï¼Œä¸æ”¯æŒè·¯å¾„å­—ç¬¦ä¸²\n    repeat: 'repeat' // æ˜¯å¦å¹³é“º, å¯ä»¥æ˜¯ 'repeat-x', 'repeat-y', 'no-repeat'\n}\nconst option = {\n    series: [\n        {\n            type: 'line',\n            areaStyle: {\n                color: linearGradientColor||radialGradientColor||textureFillColor\n            },\n        },\n    ],\n};\nchart.setOption({option})\n```\n\n## 2.ä½¿ç”¨echartså†…ç½®çš„æ¸å˜è‰²ç”Ÿæˆå™¨echarts.graphic.LinearGradient\n\nechartsçš„å®˜æ–¹APIä¸­éƒ½æ²¡æœ‰å¯¹è¿™ä¸ªAPIæ·»åŠ è¯´æ˜æ–‡æ¡£, æ•…ç”¨æœ¬ç¯‡æ–‡ç« æ¥ç®€ç•¥è¯´æ˜å…¶ç”¨æ³•.\n\n```javascript\nconst color = new echarts.graphic.LinearGradient(\n    0, 0, 0, 1,\n    [\n        {offset: 0, color: '#000'},\n        {offset: 0.5, color: '#888'},\n        {offset: 1, color: '#ddd'}\n    ]\n);\nconst option = {\n    series: [\n        {\n            type: 'line',\n            areaStyle: {\n                color: color,\n            },\n        },\n    ],\n};\nchart.setOption({option})\n```\n\n0ï¼Œ0ï¼Œ0ï¼Œ1åˆ†åˆ«ä»£è¡¨äº†å³ã€ä¸‹ã€å·¦ã€ä¸Šå››ä¸ªä½ç½®çš„é¢œè‰²åæ ‡\n\né€šè¿‡ä¿®æ”¹è¿™4ä¸ªå‚æ•°, å¯ä»¥å®ç°ä¸åŒçš„æ¸å˜æ–¹å‘, å¦‚:\n0 1 0 0 ä»£è¡¨ä»æ­£ä¸‹æ–¹å‘æ­£ä¸Šæ–¹æ¸å˜;\n1 0 0 1 ä»£è¡¨ä»å³ä¸Šæ–¹å‘å·¦ä¸‹æ–¹æ¸å˜,\n\nç¬¬5ä¸ªå‚æ•°åˆ™æ˜¯ä¸€ä¸ªæ•°ç»„, ç”¨äºé…ç½®é¢œè‰²çš„æ¸å˜è¿‡ç¨‹. æ¯ä¸€é¡¹ä¸ºä¸€ä¸ªå¯¹è±¡, åŒ…å«offsetå’Œcolorä¸¤ä¸ªå‚æ•°. offsetçš„èŒƒå›´æ˜¯0 ~ 1, ç”¨äºè¡¨ç¤ºä½ç½®, colorä¸ç”¨å¤šè¯´è‚¯å®šæ˜¯è¡¨ç¤ºé¢œè‰²äº†. åƒç¤ºä¾‹ä»£ç çš„é…ç½®åˆ™è¡¨ç¤º:\næ•´ä¸ªæ¸å˜è¿‡ç¨‹æ˜¯ä»æ­£ä¸Šæ–¹å‘æ­£ä¸‹æ–¹å˜åŒ–\nèµ·å§‹(offset: 0)é¢œè‰²ä¸º#000, å˜åŒ–åˆ°æ­£ä¸­é—´(offset: 0.5)ä½ç½®æ—¶é¢œè‰²ä¸º#888, å˜åŒ–åˆ°ç»“æŸ(offset: 1)ä½ç½®æ—¶é¢œè‰²ä¸º#ddd.","viewCount":127,"createTime":"2022-06-13T01:31:40.482Z","updateTime":"2022-06-13T02:03:47.151Z","__v":0},{"_id":"629867a425f88c33044481c0","title":"Next.js 01 - åˆ›å»ºé¡¹ç›®","markContent":"## èµ·æº\n\n### ä»‹ç»\n\nè¿™æ˜¯ä¸€ä¸ªç”¨äº ç”Ÿäº§ç¯å¢ƒçš„ React æ¡†æ¶\n\nNext.js ä¸ºæ‚¨æä¾›ç”Ÿäº§ç¯å¢ƒæ‰€éœ€çš„æ‰€æœ‰åŠŸèƒ½ä»¥åŠæœ€ä½³çš„å¼€å‘ä½“éªŒï¼šåŒ…æ‹¬é™æ€åŠæœåŠ¡å™¨ç«¯èåˆæ¸²æŸ“ã€ æ”¯æŒ TypeScriptã€æ™ºèƒ½åŒ–æ‰“åŒ…ã€ è·¯ç”±é¢„å–ç­‰åŠŸèƒ½ æ— éœ€ä»»ä½•é…ç½®ã€‚\n\nä¸ºä»€ä¹ˆé€‰æ‹© Next.js (å…¨çƒé¢†å…ˆçš„å…¬å¸éƒ½åœ¨ä½¿ç”¨å¹¶å–œçˆ± Next.js)\n\n* é›¶é…ç½® - è‡ªåŠ¨ç¼–è¯‘å¹¶æ‰“åŒ…ã€‚ä»ä¸€å¼€å§‹å°±ä¸ºç”Ÿäº§ç¯å¢ƒè€Œä¼˜åŒ–ã€‚\n* æ··åˆæ¨¡å¼ï¼š SSG å’Œ SSR - åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­åŒæ—¶æ”¯æŒæ„å»ºæ—¶é¢„æ¸²æŸ“é¡µé¢ï¼ˆSSGï¼‰å’Œè¯·æ±‚æ—¶æ¸²æŸ“é¡µé¢ï¼ˆSSRï¼‰ã€‚\n* å¢é‡é™æ€ç”Ÿæˆ - åœ¨æ„å»ºä¹‹åä»¥å¢é‡çš„æ–¹å¼æ·»åŠ å¹¶æ›´æ–°é™æ€é¢„æ¸²æŸ“çš„é¡µé¢ã€‚\n* æ”¯æŒ TypeScript - è‡ªåŠ¨é…ç½®å¹¶ç¼–è¯‘ TypeScriptã€‚\n* å¿«é€Ÿåˆ·æ–° - å¿«é€Ÿã€å¯é çš„å®æ—¶ç¼–è¾‘ä½“éªŒï¼Œå·²åœ¨ Facebook çº§åˆ«çš„åº”ç”¨ä¸Šè§„æ¨¡ä¸Šå¾—åˆ°éªŒè¯ã€‚\n* åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„è·¯ç”± - æ¯ä¸ª pages ç›®å½•ä¸‹çš„ç»„ä»¶éƒ½æ˜¯ä¸€æ¡è·¯ç”±ã€‚\n* API è·¯ç”± - åˆ›å»º API ç«¯ç‚¹ï¼ˆå¯é€‰ï¼‰ä»¥æä¾›åç«¯åŠŸèƒ½ã€‚\n* å†…ç½®æ”¯æŒ CSS - ä½¿ç”¨ CSS æ¨¡å—åˆ›å»ºç»„ä»¶çº§çš„æ ·å¼ã€‚å†…ç½®å¯¹ Sass çš„æ”¯æŒã€‚\n* ä»£ç æ‹†åˆ†å’Œæ‰“åŒ… - é‡‡ç”¨ç”± Google Chrome å°ç»„åˆ›å»ºçš„ã€å¹¶ç»è¿‡ä¼˜åŒ–çš„æ‰“åŒ…å’Œæ‹†åˆ†ç®—æ³•ã€‚\n\nä»¥ä¸Šå†…å®¹å‡æ‘˜å½•è‡ª [Next.js ä¸­æ–‡å®˜ç½‘](https://www.nextjs.cn/)\n\n### ä¸ºä»€ä¹ˆæ˜¯ Next.js\n\nå¦‚ä½ æ‰€è§è¯»åˆ°è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œ ä½ å·²ç»èº«å¤„äº Next.js ç”Ÿäº§çš„ç½‘ç«™ä¹‹ä¸­äº†ï¼Œ æˆ–è®¸å¥¹å¹¶ä¸å®Œç¾ï¼Œä½†æ˜¯ä½ å¯ä»¥é€šè¿‡å¥¹æ¥äº†è§£åˆ°ï¼Œ Next.js çš„ä¸€äº›ç‰¹æ€§ï¼Œä»¥åŠå¸®åŠ©ä½ åˆ¤æ–­æ˜¯å¦éœ€è¦é€‰æ‹© Next.js ã€‚\n\né¦–å…ˆæœ¬ç½‘ç«™å®Œå…¨ä½¿ç”¨ Next.js æ„å»ºï¼Œ å¥¹æ˜¯ä¸€ä¸ªæŠ€æœ¯ç±»ç½‘ç«™ï¼Œé‚£ä¹ˆå¥¹å°±éœ€è¦æ›´å¤šçš„å‡ºç°åœ¨ä½ ä»¬çš„è§†é‡ä¹‹ä¸­ï¼Œ\né‚£ä¹ˆè¿™ä¸€ç‚¹æ˜¯å’Œæˆ‘ä»¬å¸¸è§çš„ç®¡ç†ç³»ç»Ÿwebåº”ç”¨æ˜¯ä¸åŒçš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±äº†è§£åˆ°å¥¹éœ€è¦æ›´å¥½çš„ SEO æ”¯æŒï¼Œ\nè€Œåœ¨å‰ç«¯æ¡†æ¶å¤§è¡Œå…¶é“çš„æ—¶ä¸‹ï¼Œæˆ‘ä»¬éƒ½ä¹ æƒ¯äºä½¿ç”¨ Create React App ç­‰æ„å»ºå·¥å…·æ„å»ºç°ä»£åŒ–çš„ Web åº”ç”¨ï¼Œ\nä½† Create React App åªæ˜¯ä¸€ä¸ªæ„å»ºå·¥å…·ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ¡†æ¶ï¼Œå…¶æ„å»ºçš„ç»“æœæ˜¯ SPA å•é¡µåº”ç”¨ï¼Œ\nä½œä¸º Web å¼€å‘äººå‘˜ æˆ‘ä»¬éƒ½äº†è§£åˆ° SPA å•é¡µåº”ç”¨å¯¹äº SEO æ”¯æŒå¹¶ä¸å‹å¥½ï¼Œ\nå†è€…ä½¿ä¼ ç»Ÿ SPA å•é¡µåº”ç”¨å¯¹ SEO æ›´å¥½åœ°æ”¯æŒéœ€è¦è¾ƒå¤šçš„é…ç½®ç­‰æ“ä½œä»¥åŠè¾ƒå¤šè§£å†³æ–¹æ¡ˆä½¿æˆ‘ä»¬éš¾ä»¥é€‰æ‹©ï¼Œé‚£ä¹ˆ Next.js å°±æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ï¼Œ\næ­£å¦‚ Next.js å®˜ç½‘æ‰€æåˆ°çš„ç‰¹æ€§ï¼Œå¤§å¤§é™ä½äº†æˆ‘ä»¬æ­å»ºåº”ç”¨çš„æˆæœ¬ï¼Œè¿™ä¹Ÿæ˜¯æœ¬ç½‘ç«™ä½¿ç”¨ Next.js çš„åŸå› ã€‚\n\n## ç°åœ¨å¼€å§‹\n\n### åˆ›å»º Next.js åº”ç”¨\n\nè‹¥è¦åˆ›å»º Next.js åº”ç”¨ï¼Œè¯·æ‰“å¼€ç»ˆç«¯ï¼Œè¿›å…¥è¦åœ¨å…¶ä¸­åˆ›å»ºåº”ç”¨çš„ç›®å½•ï¼Œç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤\n\n```shell\nnpx create-next-app nextjs-blog --use-npm --example \"https://github.com/vercel/next-learn/tree/master/basics/learn-starter\"\n```\n\n### è¿è¡Œå¼€å‘æœåŠ¡å™¨\n\n```shell\ncd nextjs-blog\nnpm run dev\n```\n\nè¿™å°†åœ¨ç«¯å£ 3000 ä¸Šå¯åŠ¨ Next.js åº”ç”¨çš„â€œå¼€å‘æœåŠ¡å™¨â€ ä»æµè§ˆå™¨æ‰“å¼€http://localhost:3000\n\nå½“æ‚¨è®¿é—® http://localhost:3000 æ—¶ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°è¿™æ ·çš„é¡µé¢ã€‚è¿™æ˜¯å…¥é—¨æ¨¡æ¿é¡µé¢ï¼Œå…¶ä¸­æ˜¾ç¤ºäº†æœ‰å…³Next.jsçš„ä¸€äº›æœ‰ç”¨ä¿¡æ¯ã€‚\n\n![](http://developers-center.oss-cn-beijing.aliyuncs.com/welcome-to-nextjs.png)\n## ç»“æŸè¯­\n\nåˆ°æ­¤ä¸€ä¸ªæœ€ç®€å•çš„ Next.js åº”ç”¨å°±åˆ›å»ºæˆåŠŸäº† åœ¨æ¥ä¸‹æ¥çš„æ–‡ç« ä¸­æˆ‘å°†ä¼šæŒç»­ä¸ºå¤§å®¶åˆ†äº«æˆ‘ä»¬çš„åº”ç”¨çš„æ„å»ºè¿‡ç¨‹\n\n\n","viewCount":90,"createTime":"2022-06-02T07:32:52.968Z","updateTime":"2022-06-02T07:32:52.968Z","__v":0},{"_id":"6298679225f88c33044481be","title":"å¦‚ä½•å°† Node.js Docker é•œåƒå¤§å°å‡å°10å€","markContent":"![](https://pic3.zhimg.com/80/v2-18f4b340b48c89daaafe0116405a543e_720w.jpg)\n\nå¯¹åº”ç”¨ç¨‹åºè¿›è¡ŒDockeråŒ–éå¸¸ç®€å•ï¼Œæœ‰æ•ˆï¼Œä½†æ˜¯ä¼˜åŒ–Docker Imageçš„å¤§å°æ˜¯æ£˜æ‰‹çš„éƒ¨åˆ†ã€‚ Dockeræ˜“äºä½¿ç”¨ï¼Œä½†æ˜¯ä¸€æ—¦åº”ç”¨ç¨‹åºå¼€å§‹æ‰©å±•ï¼Œé•œåƒå¤§å°å°±ä¼šå‘ˆæŒ‡æ•°å¢é•¿ã€‚é€šå¸¸ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåº”ç”¨ç¨‹åºçš„Node.js dockeré•œåƒå¤§å°è¶…è¿‡1 GBã€‚\n\n### ä¸ºä»€ä¹ˆé•œåƒå¤§å°å¾ˆé‡è¦\n\n* è¾ƒå¤§çš„dockeré•œåƒéœ€è¦æ›´å¤šç©ºé—´ï¼Œè¿™æ„å‘³ç€å¢åŠ è´¹ç”¨ã€‚\n* è¾ƒé•¿çš„æ„å»ºæ—¶é—´-å°†é•œåƒé€šè¿‡ç½‘ç»œæ¨é€ä¼šèŠ±è´¹æ›´é•¿çš„æ—¶é—´ï¼Œå¹¶å¯¼è‡´CIç®¡é“å»¶è¿Ÿã€‚\n\n### è®©æˆ‘ä»¬å¼€å§‹ä¼˜åŒ–\n\nè¿™æ˜¯ä½¿ç”¨VueJSåº”ç”¨ç¨‹åºæ„å»ºçš„ [æ¼”ç¤ºåº”ç”¨ç¨‹åº](https://link.zhihu.com/?target=https%3A//github.com/championshuttler/fluentbit-dashboard)ã€‚\n\nè¿™æ˜¯åˆå§‹çš„Dockerfile\n\n```text\nFROM node:10\nWORKDIR /app\nCOPY . /app\nEXPOSE 8080\nRUN npm install http-server -g\nRUN npm install && npm run build\nCMD http-server ./dist\n```\nè¯¥é•œåƒçš„å¤§å°çº¦ä¸º1.34GBï¼š\n\n![](https://pic2.zhimg.com/80/v2-7c174001efb6585ef9588a7d9ea72a19_720w.jpg)\n\nè®©æˆ‘ä»¬å¼€å§‹é€æ­¥ä¼˜åŒ–ã€‚\n\n1. ä½¿ç”¨å¤šé˜¶æ®µDockeræ„å»º\n    \n   å¤šé˜¶æ®µæ„å»ºå¯é€šè¿‡åœ¨å•ä¸ªDockerfileä¸­ä½¿ç”¨å¤šä¸ªä¸­é—´é•œåƒæ¥è½»æ¾ä¼˜åŒ–Dockeré•œåƒã€‚åœ¨æ­¤å¤„äº†è§£æ›´å¤šä¿¡æ¯ã€‚é€šè¿‡ä½¿ç”¨å¤šé˜¶æ®µæ„å»ºï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ„å»ºé•œåƒä¸­å®‰è£…æ‰€æœ‰ä¾èµ–é¡¹ï¼Œå¹¶å°†å®ƒä»¬å¤åˆ¶åˆ°ç²¾ç®€è¿è¡Œæ—¶é•œåƒä¸­ã€‚\n   \n   ```text\n   FROM node:10 AS BUILD_IMAGE\n    WORKDIR /app\n    COPY . /app\n    EXPOSE 8080\n    RUN npm install && npm run build\n    FROM node:10\n    WORKDIR /app\n    # copy from build image\n    COPY --from=BUILD_IMAGE /app/dist ./dist\n    COPY --from=BUILD_IMAGE /app/node_modules ./node_modules\n    RUN npm i -g http-server\n    CMD http-server ./dist\n   ```\n   ç°åœ¨ï¼Œæ­¤é•œåƒçš„å¤§å°ä¸º1.24GBï¼š\n   \n2. åˆ é™¤å¼€å‘ä¾èµ–é¡¹å¹¶ä½¿ç”¨ Node Prune å·¥å…·\n\n    node-pruneæ˜¯ä¸€ä¸ªå¼€æºå·¥å…·ï¼Œç”¨äºä»node_modulesæ–‡ä»¶å¤¹ä¸­åˆ é™¤ä¸éœ€è¦çš„æ–‡ä»¶ã€‚é€šå¸¸åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ ¹æœ¬ä¸éœ€è¦NpmåŒ…ä¸­çš„æµ‹è¯•æ–‡ä»¶ï¼Œmarkdownæ–‡ä»¶ï¼Œç±»å‹æ–‡ä»¶å’Œ* .mapæ–‡ä»¶ï¼Œå¤§å¤šæ•°å¼€å‘äººå‘˜éƒ½ä¸ä¼šä»ç”Ÿäº§åŒ…ä¸­åˆ é™¤å®ƒä»¬ã€‚é€šè¿‡ä½¿ç”¨node-pruneï¼Œå¯ä»¥å®‰å…¨åœ°å°†å…¶åˆ é™¤ã€‚\n    \n    æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥åˆ é™¤å¼€å‘ä¾èµ–é¡¹ï¼š\n    \n    ```shell\n    npm prune --production\n    ```\n    \n    è¿›è¡Œè¿™äº›æ›´æ”¹åï¼ŒDockerfile å°†å¦‚ä¸‹æ‰€ç¤ºï¼š\n    \n    ```text\n    FROM node:10 AS BUILD_IMAGE\n    RUN curl -sfL https://install.goreleaser.com/github.com/tj/node-prune.sh | bash -s -- -b /usr/local/bin\n    WORKDIR /app\n    COPY . /app\n    EXPOSE 8080\n    RUN npm install && npm run build\n    # remove development dependencies\n    RUN npm prune --production\n    # run node prune\n    RUN /usr/local/bin/node-prune\n    FROM node:10\n    WORKDIR /app\n    # copy from build image\n    COPY --from=BUILD_IMAGE /app/dist ./dist\n    COPY --from=BUILD_IMAGE /app/node_modules ./node_modules\n    RUN npm i -g http-server\n    CMD http-server ./dist\n    ```\n    \n    é€šè¿‡ä½¿ç”¨æ­¤é€‰é¡¹ï¼Œæˆ‘ä»¬å°†æ•´ä½“å¤§å°å‡å°åˆ°1.09GBã€‚\n    \n3. é€‰æ‹©è¾ƒå°çš„æœ€ç»ˆåŸºç¡€é•œåƒ\n    \n    åœ¨å¯¹Node.jsåº”ç”¨ç¨‹åºè¿›è¡ŒdockeråŒ–æ—¶ï¼Œæœ‰å¾ˆå¤šåŸºæœ¬é•œåƒå¯ä¾›é€‰æ‹©ã€‚\n    \n    è¿™é‡Œæˆ‘ä»¬å°†ä½¿ç”¨ alpine é•œåƒï¼› alpineæ˜¯ä¸€ä¸ªç²¾ç®€çš„dockeré•œåƒï¼Œå…·æœ‰æœ€å°‘çš„è½¯ä»¶åŒ…ï¼Œä½†è¶³ä»¥è¿è¡ŒèŠ‚ç‚¹åº”ç”¨ç¨‹åºã€‚\n    \n    ```text\n    FROM node:10 AS BUILD_IMAGE\n    RUN curl -sfL https://install.goreleaser.com/github.com/tj/node-prune.sh | bash -s -- -b /usr/local/bin\n    WORKDIR /app\n    COPY . /app\n    EXPOSE 8080\n    RUN npm install && npm run build\n    # remove development dependencies\n    RUN npm prune --production\n    # run node prune\n    RUN /usr/local/bin/node-prune\n    FROM node:10-alpine\n    WORKDIR /app\n    # copy from build image\n    COPY --from=BUILD_IMAGE /app/dist ./dist\n    COPY --from=BUILD_IMAGE /app/node_modules ./node_modules\n    RUN npm i -g http-server\n    CMD http-server ./dist\n    ```\n    \n    é€šè¿‡ä½¿ç”¨æ­¤Dockerfileï¼Œé•œåƒå¤§å°é™è‡³157MB ã€‚\n    \n    ![](https://pic2.zhimg.com/80/v2-5ea46fdb0a7079b37c3b6049404dbf29_720w.jpg)\n    \n### ç»“è®º\né€šè¿‡åº”ç”¨è¿™3ä¸ªç®€å•æ­¥éª¤ï¼Œæˆ‘ä»¬å°†dockeré•œåƒå¤§å°å‡å°äº†10å€ã€‚\n\nPS: æœ¬æ–‡å±äºç¿»è¯‘ï¼Œ[åŸæ–‡](https://link.zhihu.com/?target=https%3A//itsopensource.com/how-to-reduce-node-docker-image-size-by-ten-times/%3Futm_sq%3Dgi94nhjf7x)","viewCount":34,"createTime":"2022-06-02T07:32:34.937Z","updateTime":"2022-06-02T07:32:34.937Z","__v":0},{"_id":"6298677d25f88c33044481bc","title":"Gitåˆ†æ”¯ç®¡ç†ç­–ç•¥","markContent":"\nå¦‚æœä½ ä¸¥è‚ƒå¯¹å¾…ç¼–ç¨‹ï¼Œå°±å¿…å®šä¼šä½¿ç”¨\"[ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ](https://www.ruanyifeng.com/blog/2008/12/a_visual_guide_to_version_control.html)\"ï¼ˆVersion Control Systemï¼‰ã€‚\n\nçœ¼ä¸‹æœ€æµè¡Œçš„\"ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ\"ï¼Œé[Git](https://git-scm.com/)è«å±ã€‚\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6eff5ab7f7c349cb945fd235ca909abc~tplv-k3u1fbpfcp-zoom-1.image)\n\nç›¸æ¯”åŒç±»è½¯ä»¶ï¼Œ Git æœ‰å¾ˆå¤šä¼˜ç‚¹ã€‚å…¶ä¸­å¾ˆæ˜¾è‘—çš„ä¸€ç‚¹ï¼Œå°±æ˜¯ç‰ˆæœ¬çš„åˆ†æ”¯ï¼ˆbranchï¼‰å’Œåˆå¹¶ï¼ˆmergeï¼‰ååˆ†æ–¹ä¾¿ã€‚æœ‰äº›ä¼ ç»Ÿçš„ç‰ˆæœ¬ç®¡ç†è½¯ä»¶ï¼Œåˆ†æ”¯æ“ä½œå®é™…ä¸Šä¼šç”Ÿæˆä¸€ä»½ç°æœ‰ä»£ç çš„ç‰©ç†æ‹·è´ï¼Œè€Œ Git åªç”Ÿæˆä¸€ä¸ªæŒ‡å‘å½“å‰ç‰ˆæœ¬ï¼ˆåˆç§°\"å¿«ç…§\"ï¼‰çš„æŒ‡é’ˆï¼Œå› æ­¤éå¸¸å¿«æ·æ˜“ç”¨ã€‚\n\nä½†æ˜¯ï¼Œå¤ªæ–¹ä¾¿äº†ä¹Ÿä¼šäº§ç”Ÿå‰¯ä½œç”¨ã€‚å¦‚æœä½ ä¸åŠ æ³¨æ„ï¼Œå¾ˆå¯èƒ½ä¼šç•™ä¸‹ä¸€ä¸ªæèŠ‚è”“ç”Ÿã€å››å¤„å¼€æ”¾çš„ç‰ˆæœ¬åº“ï¼Œåˆ°å¤„éƒ½æ˜¯åˆ†æ”¯ï¼Œå®Œå…¨çœ‹ä¸å‡ºä¸»å¹²å‘å±•çš„è„‰ç»œã€‚\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eab76ecf796a41c183bfd5402d46a2c7~tplv-k3u1fbpfcp-zoom-1.image)\n\n[Vincent Driessen](http://nvie.com/)æå‡ºäº†ä¸€ä¸ªåˆ†æ”¯ç®¡ç†çš„[ç­–ç•¥](http://nvie.com/posts/a-successful-git-branching-model/)ï¼Œæˆ‘è§‰å¾—éå¸¸å€¼å¾—å€Ÿé‰´ã€‚å®ƒå¯ä»¥ä½¿å¾—ç‰ˆæœ¬åº“çš„æ¼”è¿›ä¿æŒç®€æ´ï¼Œä¸»å¹²æ¸…æ™°ï¼Œå„ä¸ªåˆ†æ”¯å„å¸å…¶èŒã€äº•äº•æœ‰æ¡ã€‚ç†è®ºä¸Šï¼Œè¿™äº›ç­–ç•¥å¯¹æ‰€æœ‰çš„ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿéƒ½é€‚ç”¨ï¼Œ Git åªæ˜¯ç”¨æ¥ä¸¾ä¾‹è€Œå·²ã€‚å¦‚æœä½ ä¸ç†Ÿæ‚‰ Git ï¼Œè·³è¿‡ä¸¾ä¾‹éƒ¨åˆ†å°±å¯ä»¥äº†ã€‚\n\n**ä¸€ã€ä¸»åˆ†æ”¯Master**\n\né¦–å…ˆï¼Œä»£ç åº“åº”è¯¥æœ‰ä¸€ä¸ªã€ä¸”ä»…æœ‰ä¸€ä¸ªä¸»åˆ†æ”¯ã€‚æ‰€æœ‰æä¾›ç»™ç”¨æˆ·ä½¿ç”¨çš„æ­£å¼ç‰ˆæœ¬ï¼Œéƒ½åœ¨è¿™ä¸ªä¸»åˆ†æ”¯ä¸Šå‘å¸ƒã€‚\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7236b7b924bd4fe6ba60ac933b70f917~tplv-k3u1fbpfcp-zoom-1.image)\n\nGitä¸»åˆ†æ”¯çš„åå­—ï¼Œé»˜è®¤å«åšMasterã€‚å®ƒæ˜¯è‡ªåŠ¨å»ºç«‹çš„ï¼Œç‰ˆæœ¬åº“åˆå§‹åŒ–ä»¥åï¼Œé»˜è®¤å°±æ˜¯åœ¨ä¸»åˆ†æ”¯åœ¨è¿›è¡Œå¼€å‘ã€‚\n\n**äºŒã€å¼€å‘åˆ†æ”¯Develop**\n\nä¸»åˆ†æ”¯åªç”¨æ¥åˆ†å¸ƒé‡å¤§ç‰ˆæœ¬ï¼Œæ—¥å¸¸å¼€å‘åº”è¯¥åœ¨å¦ä¸€æ¡åˆ†æ”¯ä¸Šå®Œæˆã€‚æˆ‘ä»¬æŠŠå¼€å‘ç”¨çš„åˆ†æ”¯ï¼Œå«åšDevelopã€‚\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f96d0e26fc534bd4acd81667fb3fc4a0~tplv-k3u1fbpfcp-zoom-1.image)\n\nè¿™ä¸ªåˆ†æ”¯å¯ä»¥ç”¨æ¥ç”Ÿæˆä»£ç çš„æœ€æ–°éš”å¤œç‰ˆæœ¬ï¼ˆnightlyï¼‰ã€‚å¦‚æœæƒ³æ­£å¼å¯¹å¤–å‘å¸ƒï¼Œå°±åœ¨Masteråˆ†æ”¯ä¸Šï¼Œå¯¹Developåˆ†æ”¯è¿›è¡Œ\"åˆå¹¶\"ï¼ˆmergeï¼‰ã€‚\n\nGitåˆ›å»ºDevelopåˆ†æ”¯çš„å‘½ä»¤ï¼š\n```shell\ngit checkout -b develop master\n```\n\nå°†Developåˆ†æ”¯å‘å¸ƒåˆ°Masteråˆ†æ”¯çš„å‘½ä»¤ï¼š\n```shell\n# åˆ‡æ¢åˆ°Masteråˆ†æ”¯\\\ngit checkout master\n\n# å¯¹Developåˆ†æ”¯è¿›è¡Œåˆå¹¶\\\ngit merge --no-ff develop\n```\n\nè¿™é‡Œç¨å¾®è§£é‡Šä¸€ä¸‹ï¼Œä¸Šä¸€æ¡å‘½ä»¤çš„--no-ffå‚æ•°æ˜¯ä»€ä¹ˆæ„æ€ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ Git æ‰§è¡Œ\"å¿«è¿›å¼åˆå¹¶\"ï¼ˆfast-farward mergeï¼‰ï¼Œä¼šç›´æ¥å°†Masteråˆ†æ”¯æŒ‡å‘Developåˆ†æ”¯ã€‚\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/903cd4ae680341e1985a6d1f0751fe9f~tplv-k3u1fbpfcp-zoom-1.image)\n\nä½¿ç”¨--no-ffå‚æ•°åï¼Œä¼šæ‰§è¡Œæ­£å¸¸åˆå¹¶ï¼Œåœ¨Masteråˆ†æ”¯ä¸Šç”Ÿæˆä¸€ä¸ªæ–°èŠ‚ç‚¹ã€‚ä¸ºäº†ä¿è¯ç‰ˆæœ¬æ¼”è¿›çš„æ¸…æ™°ï¼Œæˆ‘ä»¬å¸Œæœ›é‡‡ç”¨è¿™ç§åšæ³•ã€‚å…³äºåˆå¹¶çš„æ›´å¤šè§£é‡Šï¼Œè¯·å‚è€ƒBenjamin Sandofskyçš„[ã€ŠUnderstanding the Git Workflowã€‹](https://sandofsky.com/blog/git-workflow.html)ã€‚\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1e9f0547d6d541fc808047814d1fbb99~tplv-k3u1fbpfcp-zoom-1.image)\n\n**ä¸‰ã€ä¸´æ—¶æ€§åˆ†æ”¯**\n\nå‰é¢è®²åˆ°ç‰ˆæœ¬åº“çš„ä¸¤æ¡ä¸»è¦åˆ†æ”¯ï¼šMasterå’ŒDevelopã€‚å‰è€…ç”¨äºæ­£å¼å‘å¸ƒï¼Œåè€…ç”¨äºæ—¥å¸¸å¼€å‘ã€‚å…¶å®ï¼Œå¸¸è®¾åˆ†æ”¯åªéœ€è¦è¿™ä¸¤æ¡å°±å¤Ÿäº†ï¼Œä¸éœ€è¦å…¶ä»–äº†ã€‚\n\nä½†æ˜¯ï¼Œé™¤äº†å¸¸è®¾åˆ†æ”¯ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€äº›ä¸´æ—¶æ€§åˆ†æ”¯ï¼Œç”¨äºåº”å¯¹ä¸€äº›ç‰¹å®šç›®çš„çš„ç‰ˆæœ¬å¼€å‘ã€‚ä¸´æ—¶æ€§åˆ†æ”¯ä¸»è¦æœ‰ä¸‰ç§ï¼š\n\n> * åŠŸèƒ½ï¼ˆfeatureï¼‰åˆ†æ”¯\n>\n> * é¢„å‘å¸ƒï¼ˆreleaseï¼‰åˆ†æ”¯\n>\n> * ä¿®è¡¥bugï¼ˆfixbugï¼‰åˆ†æ”¯\n\nè¿™ä¸‰ç§åˆ†æ”¯éƒ½å±äºä¸´æ—¶æ€§éœ€è¦ï¼Œä½¿ç”¨å®Œä»¥åï¼Œåº”è¯¥åˆ é™¤ï¼Œä½¿å¾—ä»£ç åº“çš„å¸¸è®¾åˆ†æ”¯å§‹ç»ˆåªæœ‰Masterå’ŒDevelopã€‚\n\n**å››ã€ åŠŸèƒ½åˆ†æ”¯**\n\næ¥ä¸‹æ¥ï¼Œä¸€ä¸ªä¸ªæ¥çœ‹è¿™ä¸‰ç§\"ä¸´æ—¶æ€§åˆ†æ”¯\"ã€‚\n\nç¬¬ä¸€ç§æ˜¯åŠŸèƒ½åˆ†æ”¯ï¼Œå®ƒæ˜¯ä¸ºäº†å¼€å‘æŸç§ç‰¹å®šåŠŸèƒ½ï¼Œä»Developåˆ†æ”¯ä¸Šé¢åˆ†å‡ºæ¥çš„ã€‚å¼€å‘å®Œæˆåï¼Œè¦å†å¹¶å…¥Developã€‚\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/783d9ae482984afe8743dbcb4f28f666~tplv-k3u1fbpfcp-zoom-1.image)\n\nåŠŸèƒ½åˆ†æ”¯çš„åå­—ï¼Œå¯ä»¥é‡‡ç”¨feature-*çš„å½¢å¼å‘½åã€‚\n\nåˆ›å»ºä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯ï¼š\n```shell\ngit checkout -b feature-x develop\n```\nå¼€å‘å®Œæˆåï¼Œå°†åŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ°developåˆ†æ”¯ï¼š\n```shell\ngit checkout develop\n\ngit merge --no-ff feature-x\n```\n\nåˆ é™¤featureåˆ†æ”¯ï¼š\n```shell\ngit branch -d feature-x\n```\n\n**äº”ã€é¢„å‘å¸ƒåˆ†æ”¯**\n\nç¬¬äºŒç§æ˜¯é¢„å‘å¸ƒåˆ†æ”¯ï¼Œå®ƒæ˜¯æŒ‡å‘å¸ƒæ­£å¼ç‰ˆæœ¬ä¹‹å‰ï¼ˆå³åˆå¹¶åˆ°Masteråˆ†æ”¯ä¹‹å‰ï¼‰ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦æœ‰ä¸€ä¸ªé¢„å‘å¸ƒçš„ç‰ˆæœ¬è¿›è¡Œæµ‹è¯•ã€‚\n\né¢„å‘å¸ƒåˆ†æ”¯æ˜¯ä»Developåˆ†æ”¯ä¸Šé¢åˆ†å‡ºæ¥çš„ï¼Œé¢„å‘å¸ƒç»“æŸä»¥åï¼Œå¿…é¡»åˆå¹¶è¿›Developå’ŒMasteråˆ†æ”¯ã€‚å®ƒçš„å‘½åï¼Œå¯ä»¥é‡‡ç”¨release-*çš„å½¢å¼ã€‚\n\nåˆ›å»ºä¸€ä¸ªé¢„å‘å¸ƒåˆ†æ”¯ï¼š\n```shell\ngit checkout -b release-1.2 develop\n```\n\nç¡®è®¤æ²¡æœ‰é—®é¢˜åï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š\n```shell\ngit checkout master\n\ngit merge --no-ff release-1.2\n\n# å¯¹åˆå¹¶ç”Ÿæˆçš„æ–°èŠ‚ç‚¹ï¼Œåšä¸€ä¸ªæ ‡ç­¾\\\ngit tag -a 1.2\n```\nå†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š\n```shell\ngit checkout develop\n\ngit merge --no-ff release-1.2\n```\næœ€åï¼Œåˆ é™¤é¢„å‘å¸ƒåˆ†æ”¯ï¼š\n```shell\ngit branch -d release-1.2\n```\n\n**å…­ã€ä¿®è¡¥bugåˆ†æ”¯**\n\næœ€åä¸€ç§æ˜¯ä¿®è¡¥bugåˆ†æ”¯ã€‚è½¯ä»¶æ­£å¼å‘å¸ƒä»¥åï¼Œéš¾å…ä¼šå‡ºç°bugã€‚è¿™æ—¶å°±éœ€è¦åˆ›å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œè¿›è¡Œbugä¿®è¡¥ã€‚\n\nä¿®è¡¥bugåˆ†æ”¯æ˜¯ä»Masteråˆ†æ”¯ä¸Šé¢åˆ†å‡ºæ¥çš„ã€‚ä¿®è¡¥ç»“æŸä»¥åï¼Œå†åˆå¹¶è¿›Masterå’ŒDevelopåˆ†æ”¯ã€‚å®ƒçš„å‘½åï¼Œå¯ä»¥é‡‡ç”¨fixbug-*çš„å½¢å¼ã€‚\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0bf2c6516741413da238520feb05d440~tplv-k3u1fbpfcp-zoom-1.image)\n\nåˆ›å»ºä¸€ä¸ªä¿®è¡¥bugåˆ†æ”¯ï¼š\n```shell\ngit checkout -b fixbug-0.1 master\n```\nä¿®è¡¥ç»“æŸåï¼Œåˆå¹¶åˆ°masteråˆ†æ”¯ï¼š\n```shell\ngit checkout master\n\ngit merge --no-ff fixbug-0.1\n\ngit tag -a 0.1.1\n```\n\nå†åˆå¹¶åˆ°developåˆ†æ”¯ï¼š\n```shell\ngit checkout develop\n\ngit merge --no-ff fixbug-0.1\n```\n\næœ€åï¼Œåˆ é™¤\"ä¿®è¡¥bugåˆ†æ”¯\"ï¼š\n```shell\ngit branch -d fixbug-0.1\n```\n\nä½œè€…ï¼šÂ [é˜®ä¸€å³°](https://www.ruanyifeng.com/)\n\næ—¥æœŸï¼šÂ [2012å¹´7æœˆ 5æ—¥](https://www.ruanyifeng.com/blog/2012/07/)","viewCount":286,"createTime":"2022-06-02T07:32:13.009Z","updateTime":"2022-06-02T07:32:13.009Z","__v":0},{"_id":"6298676425f88c33044481ba","title":"åŠ¨æ€ç”Ÿæˆ uniapp é…ç½®æ–‡ä»¶ pages.json","markContent":"\n![](http://developers-center.oss-cn-beijing.aliyuncs.com/å¾®ä¿¡å›¾ç‰‡_20220428202250.png)\n\næœ€è¿‘æ¥æ‰‹äº†ä¸€ä¸ªåŸºäº uniapp çš„å¼€å‘é¡¹ç›®ï¼Œæˆ‘ä¸ªäººå¯¹äºå®ƒèƒ½å¤Ÿä½¿ç”¨åŒä¸€å¥—ä»£ç å°±èƒ½å¤Ÿå¼€å‘ h5\\app\\å°ç¨‹åº çš„å¼ºå¤§åŠŸèƒ½è¡¨ç¤ºéå¸¸é’¦ä½©ã€‚ä½†æ˜¯å…¶é…ç½®æ–‡ä»¶ pages.json ä¹Ÿè®©æˆ‘ååˆ†éƒé—·ï¼ŒåŸå› æ— ä»–ï¼Œåªå› å…¶æ˜¯å†™æ­» JSON æ–‡ä»¶ï¼Œåœ¨ç®¡ç†çš„æ—¶å€™æ˜¯ååˆ†ä¸ä¾¿çš„ã€‚\n\nåœ¨æœç´¢äº†ä¸€äº›èµ„æ–™ï¼ŒæœŸæœ›å¯ä»¥ç”¨ pages.js æ–‡ä»¶æ¥æ›¿ä»£ pages.json é…ç½®æ–‡ä»¶ï¼ˆJSçš„åŠ¨æ€èƒ½åŠ›ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„æ‹†åˆ†è·¯ç”±é…ç½®ï¼‰ï¼Œä½†æ˜¯æ²¡æœ‰æ‰¾åˆ°å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆã€‚å€’æ˜¯æœ‰ä¸€ä¸ªï¼Œä½†æ˜¯æå¾—è¿‡äºç¹çï¼Œæƒ³æƒ³è¿˜æ˜¯ç®—çƒäº†ã€‚\n\näºæ˜¯ï¼Œæˆ‘è‡ªå·±ç”¨ Nodejs æ‰‹å†™äº†ä¸€ä¸ªæ–¹æ¡ˆï¼Œè™½ç„¶åŸå§‹äº†ä¸€äº›ï¼Œä½†æ˜¯ä¾èµ–ååˆ†è½»ï¼Œä½¿ç”¨ä¹Ÿæ¯”è¾ƒä¾¿æ·ï¼Œä¸ªäººæ„Ÿè§‰è¿˜æ˜¯é¢‡æœ‰ç”¨å¤„çš„ï¼Œæ‰€ä»¥ç‰¹åœ°æ’°æ–‡åˆ†äº«ç»™å¤§å®¶ã€‚\n\n## æ„å»ºæ–‡ä»¶æ„æ¶\n\né¦–å…ˆï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ–°å»º `router` æ–‡ä»¶å¤¹ï¼Œç„¶åæ ¹æ®å¦‚ä¸‹çš„æ ¼å¼æ„å»ºæ–‡ä»¶ç»“æ„ã€‚\n\n```\nrouter              # åŠ¨æ€è·¯ç”±æ–‡ä»¶å¤¹\nâ”œâ”€â”€ build.js        # ç¼–è¯‘è·¯ç”±é…ç½®ä¸»æ–‡ä»¶\nâ”œâ”€â”€ index.js        # ä¸»é…ç½®æ–‡ä»¶\nâ””â”€â”€ modules         # åŠ¨æ€è·¯ç”±æ¨¡å—æ–‡ä»¶\n    â””â”€â”€ small.js    # æ‹†åˆ†å‡ºæ¥çš„æ¨¡å—è·¯ç”±æ–‡ä»¶\n```\n### ç¼–å†™ `build.js` æ–‡ä»¶\n\nä»£ç å¦‚ä¸‹ï¼š\n\n```\nconst fs = require('fs')\nconst path = require('path')\nconst router = require('./index.js')\n\n// å°†å­è·¯ç”±æ¨¡å—é…ç½®æ–‡ä»¶è½¬åŒ–ä¸º uniapp é…ç½®æ–‡ä»¶æ ¼å¼\nconst buildRouter = route => {\n  const res = []\n  const { baseUrl, children } = route\n  children.forEach(i => {\n    const obj = {\n      path: baseUrl + i.path,\n      style: {\n        navigationBarTitleText: i.name\n      }\n    }\n    Object.keys(i).forEach(ii => {\n      !['path', 'name'].includes(ii) && (obj.style[ii] = i[ii])\n    })\n    res.push(obj)\n  })\n  return res\n}\n\n// è‡ªåŠ¨åŠ è½½ './modules' ç›®å½•å­è·¯ç”±é…ç½®æ–‡ä»¶\nconst getRouter = () => {\n  const srcPath = path.resolve(__dirname, './modules')\n  const result = fs.readdirSync(srcPath)\n  let router = []\n  result.forEach(r => {\n    const route = require('./modules/' + r)\n    router = [...router, ...buildRouter(route)]\n  })\n  return router\n}\n\n// æ„å»º pages å¹¶å†™å…¥ pages.json æ–‡ä»¶\nrouter.pages = getRouter()\nfs.writeFile(\n  __dirname + '/../pages.json',\n  // æˆ‘è¿™è¾¹æ˜¯ç”¨ä¸¤ä¸ªç©ºæ ¼æ¥ç¼©è¿› pages.jsonï¼Œå¦‚æœå–œæ¬¢åˆ¶è¡¨ç¬¦ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ›´æ¢ä½ ä¸º \\t å³å¯\n  JSON.stringify(router, null, '  '),\n  e => e ? console.error(e) : console.log('pages.json é…ç½®æ–‡ä»¶æ›´æ–°æˆåŠŸ')\n)\n```\n\n`build.js` æ–‡ä»¶ä¸ºä¸»æ–‡ä»¶ï¼Œæ˜¯ç”¨äºç¼–è¯‘ `pages.json` çš„ã€‚å¦‚æœä½ æœ‰ `nodejs` ç¼–ç¨‹åŸºç¡€çš„è¯ï¼Œè¿™æ˜¯ä¸€ä¸ªå·¨ç®€å•çš„é—®é¢˜ã€‚å¦‚æœæ²¡æœ‰çš„è¯ï¼Œå°±ä¸ç”¨ç®¡äº†ï¼Œç›´æ¥å¤åˆ¶èµ°å³å¯ã€‚\n\n### ç¼–å†™ index.js æ–‡ä»¶\n\nè¿™ä¸ªæ–‡ä»¶æ²¡å•¥è¯´çš„ï¼Œå°±æ˜¯é™¤äº† `pages.json` è¿™ä¸ªæ–‡ä»¶ä¸­çš„ `pages` å­—æ®µå¤–çš„å…¶ä»–å†…å®¹ï¼Œå¯¼å‡ºå³å¯ã€‚æˆ‘è¿™è¾¹ç¤ºä¾‹æ–‡ä»¶å¦‚ä¸‹ï¼š\n\n```\nmodule.exports = {\n  globalStyle: {\n    navigationBarTextStyle: 'white',\n    navigationBarTitleText: 'å¸æœºé…é€',\n    navigationBarBackgroundColor: '#4a9ff8',\n    backgroundColor: '#4a9ff8'\n  },\n  tabBar: {\n    color: '#666',\n    selectedColor: '#4a9ff8',\n    backgroundColor: '#f7f7f7',\n    borderStyle: 'white',\n    list: [\n      {\n        pagePath: 'pages/index/index',\n        iconPath: 'static/images/icon-homeed.png',\n        selectedIconPath: 'static/images/icon-home.png',\n        text: 'é¦–é¡µ'\n      },\n      {\n        pagePath: 'pages/task/task',\n        iconPath: 'static/images/icon-tasked.png',\n        selectedIconPath: 'static/images/icon-task.png',\n        text: 'ä»»åŠ¡'\n      },\n      {\n        pagePath: 'pages/my/my',\n        iconPath: 'static/images/icon-myed.png',\n        selectedIconPath: 'static/images/icon-my.png',\n        text: 'æˆ‘çš„'\n      }\n    ]\n  }\n}\n```\n\nè¿™é‡Œé¢éƒ½æ˜¯æ ¹æ®å®˜æ–¹çš„é…ç½®å»å†™å³å¯äº†ã€‚å› ä¸ºè¿™éƒ¨åˆ†å†…å®¹ä¸å¤šï¼Œå› æ­¤æ²¡æœ‰å¿…è¦æ‹†åˆ†ã€‚åŒºåˆ«å°±æ˜¯ï¼Œè¿™é‡Œæ˜¯JSï¼Œæ‰€ä»¥ä¸ç”¨å†™åŒå¼•å·~å‘µå‘µã€‚ã€‚ã€‚\n\n### ç¼–å†™ modules ä¸‹å­è·¯ç”±æ–‡ä»¶\n\nä¸Šä»£ç ï¼š\n\n```\nmodule.exports = {\n  baseUrl: 'pages/small/',\n  children: [\n    {\n      path: 'register',\n      name: 'æ³¨å†Œ'\n    }, {\n      path: 'login',\n      name: 'ç™»å½•'\n    }\n  ]\n}\n```\n\nå¯¼å‡ºä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­ `baseUrl` æ˜¯æŒ‡ä½ è¿™äº›æ–‡ä»¶å­˜æ”¾çš„ä½ç½®ç›®å½•ã€‚æ‹†åˆ†å‡ºæ¥çš„åŸå› æ˜¯ä¸æƒ³åœ¨æ¯ä¸ªé¡µé¢çš„è·¯å¾„é‡Œéƒ½è¦å†™è¿™äº›é‡å¤çš„ä»£ç ã€‚\n\n`children` ä¸­å°±æ˜¯è¯¥å­è·¯ç”±æ¶µç›–çš„å„ä¸ªé¡µé¢çš„è·¯å¾„ä»¥åŠæ ‡é¢˜äº†ã€‚\n\n> è¿™é‡Œå’Œ `uniapp` é»˜è®¤çš„ `pages.json` ä¸­çš„æ ¼å¼ç•¥æœ‰åŒºåˆ«ï¼Œæˆ‘åœ¨ `build.js` æ–‡ä»¶é‡Œé¢çš„ `buildRouter()` å‡½æ•°å°±æ˜¯åšè¿™ä¸ªæ•°æ®æ ¼å¼è½¬åŒ–çš„ã€‚ç›®çš„æ˜¯ä¸ºäº†è®©æˆ‘ä»¬çš„å­è·¯ç”±é…ç½®ä»£ç æ›´åŠ ç®€æ´ã€‚\n\nè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½ éœ€è¦ä½¿ç”¨åˆ°å…¶ä»–çš„é…ç½®é¡¹ï¼Œå°±ç›´æ¥å†™å°±å¯ä»¥äº†ã€‚åŸæ¥å•¥æ ¼å¼å°±æ˜¯å•¥æ ¼å¼ï¼Œæ¯”å¦‚è¿™æ ·ï¼š\n\n```\nmodule.exports = {\n  baseUrl: 'pages/small/',\n  children: [\n    {\n      path: 'register',\n      name: 'æ³¨å†Œ',\n      'app-plus': {\n        titleNView: {\n          buttons: [\n            {\n              text: 'æ¶ˆæ¯',\n              fontSize: '16px'\n            }\n          ]\n        }\n      }\n    }, {\n      path: 'login',\n      name: 'ç™»å½•'\n    }\n  ]\n}\n```\n\nä¸Šé¢çš„è¿™ä¸ª `'app-plus'` ä¼šè‡ªåŠ¨æ’å…¥è¿›å»çš„ï¼Œå®˜æ–¹æ–‡æ¡£è¦æ±‚æ€ä¹ˆå†™ï¼Œä½ åœ¨è¿™è¾¹å°±æ€ä¹ˆå†™å°±å¥½äº†ã€‚ä¸€èˆ¬è¿™ä¸ªç”¨å¾—æ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥è¿™ä¸ªæˆ‘å°±ä¸åšé¢å¤–çš„å¤„ç†äº†ã€‚\n\n## ä½¿ç”¨\n\næ„å»ºå¥½è¿™äº›ä»£ç ä¹‹åï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ `node router/build.js` å°±ä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­ç”Ÿæˆ `pages.json` æ–‡ä»¶äº†ã€‚\n\n> è¿™é‡Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼Œæˆ‘è¿™è¾¹é¡¹ç›®æ˜¯ä½¿ç”¨ `hbuilder` GUIç•Œé¢ç”Ÿæˆçš„é¡¹ç›®ï¼Œæ‰€ä»¥æ ¹ç›®å½•å°±æ˜¯é¡¹ç›®æ ¹ç›®å½•ã€‚**å¦‚æœæ˜¯ä½¿ç”¨çš„ CLI å·¥å…·ç”Ÿæˆçš„é¡¹ç›®ï¼Œä¸Šæ–‡ä¸­çš„æ ¹ç›®å½•å°±å˜æˆäº†é¡¹ç›®çš„** `src` **ç›®å½•ã€‚**\n\nå¦‚æœæƒ³ç›´æ¥ä¸‹è½½ä»£ç ï¼Œå¯ä»¥çœ‹æˆ‘çš„ä»“åº“ https://github.com/fengcms/uniapp-pages-json-cli-build å¦‚æœå» github ä¸‹è½½çš„è¯ï¼Œç»™æˆ‘ç‚¹ä¸ªèµå“¦ï¼\n\n## Copyright and License\n\nCopyright by FungLeo(web@fengcms.com)\n\nLicense: MIT","viewCount":102,"createTime":"2022-06-02T07:31:48.063Z","updateTime":"2022-06-02T07:31:48.063Z","__v":0},{"_id":"6298674225f88c33044481b8","title":"fileè½¬base64, base64 è½¬ blob , blob è½¬ ArrayBuffer , buffer è½¬ blob , base64 è½¬ file","markContent":"\n![](http://developers-center.oss-cn-beijing.aliyuncs.com/js-logo.png)\n\n## fileå¯¹è±¡è½¬base64\n\n```js\n  let reader = new FileReader();\n  reader.readAsDataURL(file[0])\n  console.log(reader)\n```\n\n## base64 è½¬æˆblob ä¸Šä¼ \n\n```js\nfunction dataURItoBlob(dataURI) {  \n    var byteString = atob(dataURI.split(',')[1]);  \n    var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];  \n    var ab = new ArrayBuffer(byteString.length);  \n    var ia = new Uint8Array(ab);  \n    for (var i = 0; i < byteString.length; i++) {  \n        ia[i] = byteString.charCodeAt(i);  \n    }  \n    return new Blob([ab], {type: mimeString});  \n}\n```\n\n## blob è½¬æˆArrayBuffer\n\n```js\nlet blob = new Blob([1,2,3,4])\nlet reader = new FileReader();\nreader.onload = function(result) {\n    console.log(result);\n}\nreader.readAsArrayBuffer(blob);\n```\n\n## buffer è½¬æˆblob\n\n```js\nlet blob = new Blob([buffer])\n```\n\n## base64 è½¬ file\n\n```js\nconst base64ConvertFile = function (urlData, filename) { // 64è½¬file\n  if (typeof urlData != 'string') {\n    this.$toast(\"urlDataä¸æ˜¯å­—ç¬¦ä¸²\")\n    return;\n  }\n  var arr = urlData.split(',')\n  var type = arr[0].match(/:(.*?);/)[1]\n  var fileExt = type.split('/')[1]\n  var bstr = atob(arr[1])\n  var n = bstr.length\n  var u8arr = new Uint8Array(n)\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n  return new File([u8arr], 'filename.' + fileExt, {\n    type: type\n  });\n}\n```\n## ä»‹ç»\n\n> Web Api æ¥å£å‚è€ƒ [File](https://developer.mozilla.org/zh-CN/docs/Web/API/File)\n\n> ","viewCount":119,"createTime":"2022-06-02T07:31:14.144Z","updateTime":"2022-06-02T07:31:14.144Z","__v":0},{"_id":"6298672a25f88c33044481b6","title":"vue 2 ä½¿ç”¨ swiper æ’ä»¶","markContent":"![](http://developers-center.oss-cn-beijing.aliyuncs.com/image.png)\n \n vue2 ä¸­ä½¿ç”¨ swiper æ’ä»¶çš„ä¸€äº›è®°å½•\n\n### å®‰è£…\n\n```\nnpm install swiper@6 vue-awesome-swiper@4 --save\n```\n\n### å…¨å±€æ³¨å†Œ\n\n```js\nimport Vue from 'vue'\nimport VueAwesomeSwiper from 'vue-awesome-swiper'\n \n// import style (>= Swiper 5.x)\nimport 'swiper/css/swiper.css';\n// import style (>= Swiper 6.x)\nimport 'swiper/swiper-bundle.css'\n \nVue.use(VueAwesomeSwiper, /* { default options with global component } */)\n```\n\n### ä½¿ç”¨\n\n```html\n<swiper ref=\"mySwiper\" :options=\"swiperOptions\">\n    <swiper-slide>Slide 1</swiper-slide>\n    <swiper-slide>Slide 2</swiper-slide>\n    <swiper-slide>Slide 3</swiper-slide>\n    <swiper-slide>Slide 4</swiper-slide>\n    <swiper-slide>Slide 5</swiper-slide>\n    <div class=\"swiper-pagination\" slot=\"pagination\"></div>\n  </swiper>\n```\n```js\nswiperOptions: {\n  slidesPerView: 4,//æ˜¾ç¤ºä¸ªæ•°\n  direction: 'vertical',\n   pagination: {\n      el: '.swiper-pagination'\n   },\n}\n```\n```js\ncomputed: {\n   swiper() {\n      return this.$refs.mySwiper.swiper\n   }\n},\n mounted() {\n    this.swiper.slideTo(3, 1000, false)\n }\n```\n\n### é…ç½®\n\næ ¹æ®å…·ä½“æƒ…å†µè‡ªè¡Œé…ç½®ï¼Œå…·ä½“å‚è€ƒ [swiperä¸­æ–‡æ–‡æ¡£](https://www.swiper.com.cn/api/index.html)\n\ndataä¸­è®¾ç½®å‚æ•°\n```js\nswiperOption: {\n  loop: true,\n  autoplay: {\n    delay: 3000,\n    disableOnInteraction: false,\n  },\n}\n```\n\néƒ¨åˆ†é…ç½®æ— æ•ˆéœ€å¼•å…¥ç›¸å…³ä¾èµ–(ps: å¦‚autoplayï¼Œ effetcs)\n\n```js\nimport SwiperCore, { Autoplay } from 'swiper';\nSwiperCore.use([Autoplay]);\n```","viewCount":160,"createTime":"2022-06-02T07:30:50.492Z","updateTime":"2022-06-02T07:30:50.492Z","__v":0},{"_id":"6298671b25f88c33044481b4","title":"Git è®¾ç½®å…¨å±€æˆ–è€…å½“å‰é¡¹ç›®çš„ç”¨æˆ·ä¿¡æ¯","markContent":"![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6eff5ab7f7c349cb945fd235ca909abc~tplv-k3u1fbpfcp-zoom-1.image)\n\n###  æŸ¥çœ‹æ‰€æœ‰é…ç½®\n```\ngit config --list\n```\n### æŸ¥çœ‹å½“å‰é¡¹ç›®é…ç½®çš„ git ç”¨æˆ·\n\nåœ¨é¡¹ç›®ç›®å½•ä¸‹è¾“å…¥\n\n```\ngit config user.name\t// å½“å‰é¡¹ç›®gitç”¨æˆ·å\ngit config user.email\t// å½“å‰é¡¹ç›®gitç”¨æˆ·é‚®ç®±\n```\n\n### è®¾ç½®å½“å‰é¡¹ç›®çš„ git ç”¨æˆ·\n\n```\ngit config user.name myName\t// è‡ªå·±çš„ç”¨æˆ·å\ngit config user.email myEmail\t// è‡ªå·±çš„é‚®ç®±\ngit config --list\t// æŸ¥çœ‹å½“å‰é¡¹ç›®çš„gité…ç½®ä¿¡æ¯ï¼ˆä¼šå…ˆåˆ—å‡ºå…¨å±€é…ç½®ï¼Œæœ€ä¸‹é¢åˆ—å‡ºçš„æ˜¯å½“å‰é¡¹ç›®çš„é…ç½®ï¼‰\n```\nåœ¨å½“å‰é¡¹ç›®ä¸‹é¢æŸ¥çœ‹çš„é…ç½®æ˜¯å…¨å±€é…ç½® + å½“å‰é¡¹ç›®çš„é…ç½®, ä½¿ç”¨çš„æ—¶å€™ä¼šä¼˜å…ˆä½¿ç”¨å½“å‰é¡¹ç›®çš„é…ç½®ã€‚\nä¹Ÿå¯ä»¥ç›´æ¥åœ¨é¡¹ç›®çš„æ ¹ç›®å½•é‡Œçš„ .git æ–‡ä»¶å¤¹é‡Œï¼Œæ‰“å¼€ config æ–‡ä»¶æŸ¥çœ‹å½“å‰é¡¹ç›®çš„ git é…ç½®ä¿¡æ¯ï¼š\n\n```\n[core]\n\trepositoryformatversion = 0\n\tfilemode = false\n\tbare = false\n\tlogallrefupdates = true\n\tsymlinks = false\n\tignorecase = true\n[submodule]\n\tactive = .\n[remote \"origin\"]\n\turl = https://github.com/DawnYu9/Test.git\n\tfetch = +refs/heads/*:refs/remotes/origin/*\n[branch \"master\"]\n\tremote = origin\n\tmerge = refs/heads/master\n\n```\n\nåœ¨æœ€åé¢æ·»åŠ è¯¥é¡¹ç›®çš„ç”¨æˆ·ä¿¡æ¯ï¼š\n\n```\n[user]\n\tname = myName\n\temail = myEmail\n```\n\n### è®¾ç½®å…¨å±€çš„ git ç”¨æˆ·\n\n```\ngit config --global user.name globalName\t// å…¨å±€çš„ç”¨æˆ·å\ngit config --global user.email globalEmail\t// å…¨å±€çš„é‚®ç®±\ngit config --list\t// æŸ¥çœ‹é…ç½®ä¿¡æ¯\n```","viewCount":79,"createTime":"2022-06-02T07:30:35.042Z","updateTime":"2022-06-02T07:30:35.042Z","__v":0},{"_id":"6298670a25f88c33044481b2","title":"webkitå†…æ ¸æµè§ˆå™¨ï¼ˆChrome, Edgeï¼‰ä¸­è‡ªå¸¦inputæ ·å¼input:-internal-autofill-selectedï¼ˆä¿®æ”¹inputèƒŒæ™¯è‰²ï¼‰","markContent":"![](http://developers-center.oss-cn-beijing.aliyuncs.com/undraw_static_assets_rpm6.svg)\n\n## æ–¹æ¡ˆ1ï¼šå¦‚æœä¸æ˜¯æƒ³è®¾ç½®ä¸ºé€æ˜è‰² å¯ç›´æ¥ä½¿ç”¨ [box-shadow](https://developer.mozilla.org/zh-CN/docs/Web/CSS/box-shadow)\n\n```\ninput:-webkit-autofill{\n\t-webkit-box-shadow:0 0 0 1000px white inset !important;\n}\n```\n\n## æ–¹æ¡ˆ2ï¼šå…³é—­è‡ªåŠ¨å¡«å……åŠŸèƒ½ ( ä¹Ÿå¯å®ç° ä¸æ¨è )\n\n```\n<input type=\"text\" autocomplete=\"off\">\n```\n\n## æ–¹æ¡ˆ3ï¼šé€šè¿‡CSS3åŠ¨ç”»è§£å†³\n\n```\ninput:-webkit-autofill,\n    input:-webkit-autofill:hover,\n    input:-webkit-autofill:focus,\n    input:-webkit-autofill:active {\n        -webkit-transition-delay: 111111s;\n        -webkit-transition: color 11111s ease-out, background-color 111111s ease-out;\n    } \n```\n\n## ä»£ç ç¤ºä¾‹\n\n```\n\n    .entername>.el-input__inner{\n        border: none;\n        line-height: 38px;\n        padding-left: 10px;\n        padding-right: 0;\n        background: transparent; \n        color:#ccc\n    } \n     .entername>.el-input__inner:-webkit-autofill,\n     .entername>.el-input__inner:-webkit-autofill:hover,\n     .entername>.el-input__inner:-webkit-autofill:focus,\n     .entername>.el-input__inner:-webkit-autofill:active {\n        -webkit-transition-delay: 99999s;\n        -webkit-transition: color 99999s ease-out, background-color 99999s ease-out;\n    }  \n```","viewCount":185,"createTime":"2022-06-02T07:30:18.035Z","updateTime":"2022-06-02T07:30:18.035Z","__v":0},{"_id":"629866f525f88c33044481b0","title":"Next.js æ·»åŠ  Google AdSense å¹¿å‘Š","markContent":"![](http://developers-center.oss-cn-beijing.aliyuncs.com/undraw_next_js_-8-g5m.7d2e18ea.svg)\n\n## æ·»åŠ  Google AdSense\n\nå°†Google AdSenseå®¢æˆ·ç«¯IDæ·»åŠ ä¸ºç¯å¢ƒå˜é‡ã€‚\n\n.env.local\n```\nNEXT_PUBLIC_GOOGLE_ADSENSE=ca-pub-5674178816323888\n```\nç„¶åï¼Œåœ¨_document.tsxä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚ è¿™æ ·ï¼ŒGoogle AdSenseåŠ è½½ä¸€æ—¦æ‚¨çš„ä¸‹ä¸€ä¸ªåº”ç”¨ç¨‹åºå®‰è£…ã€‚<script> <head>\n```javascript\n<script\n  async\n  src={`https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=${process.env.NEXT_PUBLIC_GOOGLE_ADSENSE}`}\n  crossOrigin=\"anonymous\"\n/>\n```\nåœ¨AdSenseæ§åˆ¶å°ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å¹¿å‘Šå•å…ƒã€‚ æ‚¨å°†è¢«è¦æ±‚å¤åˆ¶ä¸€äº›çœ‹èµ·æ¥è¿™æ ·çš„ä»£ç ã€‚ ä¸è¦å¤åˆ¶å®ƒã€‚ è¿™æ˜¯ååº”å°†è¿›å…¥çš„åœ°æ–¹ã€‚\n```javascript\n<script\n  async\n  src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5674178816323888\"\n  crossorigin=\"anonymous\"\n></script>\n<!-- responsive -->\n<ins\n  class=\"adsbygoogle\"\n  style=\"display:block\"\n  data-ad-client=\"ca-pub-5674178816323888\"\n  data-ad-slot=\"7181773959\"\n  data-ad-format=\"auto\"\n  data-full-width-responsive=\"true\"\n></ins>\n<script>\n  (adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n```\n\n## åˆ›å»ºGoogle Adsense AD Reactç»„ä»¶\næœ¬æ–‡å…¶ä½™éƒ¨åˆ†ä¸­çš„ä¿¡æ¯é€‚ç”¨äºæ‚¨æ˜¯å¦ä½¿ç”¨Next.jsï¼Œgatsby.jsï¼ŒCreate React App æˆ– custom react setupã€‚\n\nçµæ„Ÿæ¥è‡ªè¿™ä¸ª [GitHub comment](https://github.com/vercel/next.js/discussions/14395#discussioncomment-28847) ï¼Œåˆ›å»ºä¸€ä¸ªç»„ä»¶æ¥å°è£…æ‚¨çš„Googleå¹¿å‘Šã€‚\n\ncomponents/GoogleAd.tsx\n\n```typescript\nimport {useEffect} from 'react';\n\nexport function GoogleAd() {\n  useEffect(() => {\n    try {\n      // @ts-ignore\n      (window.adsbygoogle = window.adsbygoogle || []).push({});\n    } catch (err) {\n      console.error(err);\n    }\n  }, []);\n\n  return (\n    <ins\n      className=\"adsbygoogle\"\n      style={{display: 'block'}}\n      data-ad-client={process.env.NEXT_PUBLIC_GOOGLE_ADSENSE}\n      data-ad-slot=\"7181773959\"\n      data-ad-format=\"auto\"\n      data-full-width-responsive=\"true\"\n    />\n  );\n}\n```\n\nç°åœ¨ï¼Œæ‚¨å¯ä»¥æ”¾ç½®Googleå¹¿å‘Šåœ¨ä»»ä½•æ‚¨æƒ³è¦çš„åœ°æ–¹ã€‚\n\n## Supporting Multiple Ad Unit Types\nDefine an for each ad unit you define. For example,enum\n\ncomponents/GoogleAd.tsx\n\n```\nexport enum AdType {\n  DEFAULT,\n  ARTICLE,\n  VERTICAL,\n}\n```\n\nç„¶åï¼Œè®¾ç½®å°†æ¯ä¸ªå¹¿å‘Šå•å…ƒæ˜ å°„åˆ°å…¶ç›¸åº”çš„props.Record\n\ncomponents/GoogleAd.tsx\n\n```typescript\nconst adUnitProps: Record<AdType, any> = {\n  [AdType.DEFAULT]: {\n    'data-ad-slot': '7181773959',\n    'data-ad-format': 'auto',\n    'data-full-width-responsive': 'true',\n  },\n  [AdType.ARTICLE]: {\n    'data-ad-slot': '3197857275',\n    'data-ad-format': 'fluid',\n    'data-ad-layout': 'in-article',\n  },\n  [AdType.VERTICAL]: {\n    'data-ad-slot': '8863578035',\n    'data-ad-format': 'auto',\n    'data-full-width-responsive': 'true',\n  },\n};\n```\n\nä¿®æ”¹æ‚¨çš„ç»„ä»¶ä»¥æ¥å—Prop.GoogleAdtype\n\ncomponents/GoogleAd.tsx\n```typescript\nimport {useEffect} from 'react';\n\ninterface GoogleAdProps {\n  variant?: AdType;\n}\n\nexport function GoogleAd({variant = AdType.DEFAULT}: GoogleAdProps) {\n  useEffect(() => {\n    try {\n      // @ts-ignore\n      (window.adsbygoogle = window.adsbygoogle || []).push({});\n    } catch (err) {\n      console.error(err);\n    }\n  }, []);\n\n  return (\n    <ins\n      className=\"adsbygoogle\"\n      style={{display: 'block'}}\n      data-ad-client={process.env.NEXT_PUBLIC_GOOGLE_ADSENSE}\n      {...adUnitProps[variant]}\n    />\n  );\n}\n```\nç°åœ¨ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿåœ¨æ‚¨çš„Next.jsç½‘ç«™ä¸Šä½¿ç”¨Google AdSenseå¹¿å‘Šã€‚\n\n## Fixing Overflow with Adsense Ads\nSometimes the ads can overflow when resizing the viewport.\n\nHere's what it could look like.\n\nMain Content\n\nAd\n\nFollowing Google's advice on overflow issues, we'll hide the overflow content.\n\ncomponents/GoogleAd.tsx\n```\n<div style={{overflow: 'hidden'}}>\n  <ins\n    className=\"adsbygoogle\"\n    style={{display: 'block'}}\n    data-ad-client={process.env.NEXT_PUBLIC_GOOGLE_ADSENSE}\n    {...adUnitProps[variant]}\n  />\n</div>\n```\nSetting might cut off part of your ad when the viewport's resized. But at least the ad won't break your site's layout if the viewport shrinks.overflow: 'hidden'\n\nHere's what it looks like when you set .overflow: 'hidden'\n\nMain Content\n\nAd\n\n## Preventing Cumulative Layout Shift with Google Adsense\nCumulative Layout Shift (CLP) occurs when the ad pushes your content out of the way after loading. CLP will hurt your Lighthouse score and SEO.\n\nTo minimize layout shift, preemptively set a height and width to make room for your ad.\n\ncomponents/GoogleAd.tsx\n```\n<div style={{overflow: 'hidden', minWidth: '300px', minHeight: '250px'}}>\n  <ins\n    className=\"adsbygoogle\"\n    style={{display: 'block'}}\n    data-ad-client={process.env.NEXT_PUBLIC_GOOGLE_ADSENSE}\n    {...adUnitProps[variant]}\n  />\n</div>\n```\n## Remove Ads from Assistive Technologies like Screen Readers\nThe problem with Google Adsense ads is you inject an containing the advertisers content and markup on your site. Then, when you run a Lighthouse check on your site, the advertiser's problems become your problem. If the ad contains bad HTML decisions, you will get dinged for it.<iframe>\n\nLet's address this by hiding the aria contained by the ad. It doesn't make sense to expose an ad to assistive technologies like screen readers anyway. But you should do your own testing and see if it makes sense to follow this advice for your own business.\n\nIf you make this change, then your Lighthouse score won't be affected by any crap the advertiser puts in their markup.\n```\n<div\n  aria-hidden={true}\n  style={{overflow: 'hidden', minWidth: '300px', minHeight: '250px'}}\n>\n  <ins\n    className=\"adsbygoogle\"\n    style={{display: 'block'}}\n    data-ad-client={process.env.NEXT_PUBLIC_GOOGLE_ADSENSE}\n    {...adUnitProps[variant]}\n  />\n</div>\n```\nHope this info helps you prosper. ğŸ’¸","viewCount":161,"createTime":"2022-06-02T07:29:57.250Z","updateTime":"2022-06-02T07:29:57.250Z","__v":0},{"_id":"629866e025f88c33044481ae","title":"Git Clone æŒ‡å®šç”¨æˆ·åå¯†ç ","markContent":"![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6eff5ab7f7c349cb945fd235ca909abc~tplv-k3u1fbpfcp-zoom-1.image)\n\n## ç›®çš„\n\nä½¿ç”¨ä¸€è¡Œå‘½ä»¤è¿›è¡Œ`clone`ä¸€ä¸ªç§äººçš„ä»“åº“ï¼ˆ`https`ï¼‰ï¼Œä¹‹å‰æœªæ›¾è®¾ç½®è¿‡ä»»ä½•ç§é’¥æˆ–è€…å…¶ä»–ç›¸å…³é…ç½®ä¿¡æ¯\n\n## åŸç†\n\nåœ¨`clone`çš„`url`ä¸Šï¼Œé™„å¸¦å¸å·å¯†ç éªŒè¯å³å¯\n\n## å®ç°\n\n**\n\n```\n$ git clone https://ç”¨æˆ·:å¯†ç @git.coding.net/git/repo.git\n```\n\n## æ³¨æ„\n\nâš ï¸ urlä¸­çš„ç”¨æˆ·ä¸èƒ½ä¸ºé‚®ç®±åœ°å€ï¼ˆå› ä¸ºé‚®ç®±åœ°å€ä¸­å¸¦æœ‰`@`ç‰¹æ®Šç¬¦å·ï¼‰\n\n\nä½œè€…ï¼šNextStack\né“¾æ¥ï¼šhttps://www.jianshu.com/p/8521601d2a2d\næ¥æºï¼šç®€ä¹¦","viewCount":183,"createTime":"2022-06-02T07:29:36.342Z","updateTime":"2022-06-02T07:29:36.342Z","__v":0},{"_id":"629866cd25f88c33044481ac","title":"vue 2 å®‰è£… tailwindcss","markContent":"![](http://developers-center.oss-cn-beijing.aliyuncs.com/undraw_tailwind_css_1egw.svg)\n\n### 1ã€å®‰è£…TailwindCSS\né€šè¿‡ npm å®‰è£… tailwindcss åŠå…¶å¯¹ç­‰ä¾èµ–é¡¹ï¼Œç„¶åè¿è¡Œ init å‘½ä»¤ç”Ÿæˆ tailwind.config.js å’Œ postcss.config.jsã€‚\n```\n npm install -D tailwindcss postcss autoprefixer\n npx tailwindcss init -p\n```\n\n### 2ã€é…ç½®æ‚¨çš„æ¨¡æ¿è·¯å¾„\n\nåœ¨ tailwind.config.js æ–‡ä»¶ä¸­æ·»åŠ æ‰€æœ‰æ¨¡æ¿æ–‡ä»¶çš„è·¯å¾„ã€‚\n\n```\nmodule.exports = {\n    content: [\n       \"./index.html\",\n       \"./src/**/*.{vue,js,ts,jsx,tsx}\",\n    ],\n    theme: {\n        extend: {},\n    },\n    plugins: [],\n}\n```\n\n### 3ã€å°† Tailwind æŒ‡ä»¤æ·»åŠ åˆ°æ‚¨çš„ CSS\nåˆ›å»ºä¸€ä¸ª ./src/index.css æ–‡ä»¶å¹¶ä¸º Tailwind çš„æ¯ä¸ªå±‚æ·»åŠ  @tailwind æŒ‡ä»¤ã€‚\n```\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n```\n\n\n### 4ã€å¯¼å…¥ CSS æ–‡ä»¶\n```\nimport { createApp } from 'vue'\nimport App from './App.vue'\nimport './index.css'\n\ncreateApp(App).mount('#app')\n```\n### 5ã€å¼€å§‹åœ¨æ‚¨çš„é¡¹ç›®ä¸­ä½¿ç”¨ Tailwind\n\nå¼€å§‹ä½¿ç”¨ Tailwind çš„å®ç”¨ç¨‹åºç±»æ¥è®¾ç½®æ‚¨çš„å†…å®¹æ ·å¼ã€‚\n```\n<template>\n    <h1 class=\"text-3xl font-bold underline\"> Hello world! </h1>\n</template>\n```\n","viewCount":117,"createTime":"2022-06-02T07:29:17.419Z","updateTime":"2022-06-02T07:29:17.419Z","__v":0},{"_id":"629866b125f88c33044481aa","title":"React æ¡†æ¶ç”Ÿå‘½å‘¨æœŸï¼ˆç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶ï¼‰","markContent":"![](http://developers-center.oss-cn-beijing.aliyuncs.com/undraw_react_y-7-wq.1ac05cd7.svg)\n\n## å‰è¨€\n\nåœ¨å­¦ä¹ ä»»ä½•ä¸€ä¸ªæ¡†æ¶åŸç†ä¹‹å‰ï¼Œå­¦ä¹ å®ƒçš„ç”Ÿå‘½å‘¨æœŸæ˜¯éå¸¸å¿…è¦çš„ï¼Œè‡³å°‘å¯ä»¥è®©æˆ‘ä»¬æ˜ç™½åœ¨ä»€ä¹ˆæ—¶å€™è¯¥åšä»€ä¹ˆäº‹æƒ…ã€‚ä¸è‡³äºçŠ¯ä¸€äº›ä½çº§é”™è¯¯ã€‚\n\n`React 16.8` ç‰ˆæœ¬æ­£å¼å‘å¸ƒäº† `Hook`Â æœºåˆ¶ï¼Œå› æ­¤æœ¬æ–‡ä¼šåˆ†åˆ«è®²è§£ `Class Component`Â ç”Ÿå‘½å‘¨æœŸä¸ `Function Component`Â ç”Ÿå‘½å‘¨æœŸã€‚\n\n## Class Component ç”Ÿå‘½å‘¨æœŸ\n\nReact ç”Ÿå‘½å‘¨æœŸæŒ‡çš„æ˜¯ç»„ä»¶ä»åˆ›å»ºåˆ°å¸è½½çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œæ¯ä¸ªè¿‡ç¨‹éƒ½æœ‰å¯¹åº”çš„é’©å­å‡½æ•°ä¼šè¢«è°ƒç”¨ï¼Œå®ƒä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š\n\n-   æŒ‚è½½é˜¶æ®µÂ  -Â  ç»„ä»¶å®ä¾‹è¢«åˆ›å»ºå’Œæ’å…¥ DOM æ ‘çš„è¿‡ç¨‹\n-   æ›´æ–°é˜¶æ®µÂ  -Â  ç»„ä»¶è¢«é‡æ–°æ¸²æŸ“çš„è¿‡ç¨‹\n-   å¸è½½é˜¶æ®µÂ  -Â  ç»„ä»¶ä» DOM æ ‘ä¸­è¢«åˆ é™¤çš„è¿‡ç¨‹\n\n### æŒ‚è½½é˜¶æ®µ\n\nè¿™ä¸ªé˜¶æ®µæ˜¯åšåˆå§‹åŒ–æ“ä½œï¼Œä¸»è¦æœ‰è¿™å‡ ä¸ªé’©å­å‡½æ•°ï¼š\n\n#### static defaultProps\n\nè®¾ç½® props çš„é»˜è®¤å€¼\n\n```\nstatic defaultProps = {\n  name: 'å­ç»„ä»¶è®¾ç½®çš„é»˜è®¤props'\n}\n```\n\n#### static propTypesÂ \n\nprops æ•°æ®ç±»å‹æ£€æŸ¥\n\n```\nimport PropTypes from 'prop-types';\n\nstatic propsTypes = {\n  name: PropTypes.string // é™å®šnameä¸ºstringç±»å‹\n}\n```\n\n#### constructor(props)Â \n\næ„é€ å‡½æ•°çš„ä½œç”¨ï¼š\n\n-   åˆå§‹åŒ– `props and state`\n-   ç»‘å®šäº‹ä»¶å¤„ç†å‡½æ•°\n\n```\nconstructor(props) {\n  super(props);\n  this.state = {number: 0};\n  this.handlexxx = this.handlexxx.bind(this)\n}\n```\n\n#### componentWillMount()Â \n\nç»„ä»¶æŒ‚è½½å‰é’©å­**(17ç‰ˆæœ¬åä¸æ¨èä½¿ç”¨)**\n\nç”±äº React æœªæ¥çš„ç‰ˆæœ¬ä¸­æ¨å‡ºäº†å¼‚æ­¥æ¸²æŸ“ï¼ŒDOM è¢«æŒ‚è½½ä¹‹å‰çš„é˜¶æ®µéƒ½å¯ä»¥è¢«æ‰“æ–­é‡æ¥ï¼Œå¯¼è‡´ `componentWillMount` ã€ `componentWillUpdate` ã€ `componentWillReceiveProps` åœ¨ä¸€æ¬¡æ›´æ–°ä¸­å¯èƒ½ä¼šè¢«è§¦å‘å¤šæ¬¡ï¼Œå› æ­¤é‚£äº›åªå¸Œæœ›è§¦å‘ä¸€æ¬¡çš„å‰¯ä½œç”¨åº”è¯¥æ”¾åœ¨ `componentDidMount` ä¸­ã€‚\n\nè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆè¦æŠŠå¼‚æ­¥è¯·æ±‚æ”¾åœ¨ `componentDidMount`Â ä¸­ï¼Œè€Œä¸æ˜¯æ”¾åœ¨ `componentWillMount`Â ä¸­çš„åŸå› ï¼Œæ˜¯ä¸ºäº†å‘åå…¼å®¹ã€‚\n\n```\ncomponentWillMount() {\n\t// componentWillMountåœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­å¯èƒ½ä¼šæ‰§è¡Œå¤šæ¬¡\n}\n```\n\n#### componentDidMount()Â \n\nç»„ä»¶æŒ‚è½½æˆåŠŸé’©å­ï¼Œè¯¥è¿‡ç¨‹ç»„ä»¶å·²ç»æˆåŠŸæŒ‚è½½åˆ°äº†çœŸå® DOM ä¸Šã€‚\n\nç”±äºåœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­åªæ‰§è¡Œä¸€æ¬¡ï¼Œå› æ­¤å¸¸ç”¨æ¥ï¼š\n\n-   ç›‘å¬äº‹ä»¶ï¼›\n-   è·å–åˆ°çœŸå® DOMï¼›\n-   è¯·æ±‚åå°æ¥å£ã€‚\n\n```\ncomponentDidMount(){\n  fetch('https://api.github.com/users').then(res=>res.json()).then(users=>{\n    console.log(users);\n    this.setState({users});\n  });\n}\n```\n\n### æ›´æ–°é˜¶æ®µ\n\nè¿™ä¸ªé˜¶æ®µä¸»è¦æ˜¯åšçŠ¶æ€æ›´æ–°æ“ä½œï¼Œä¸»è¦æœ‰è¿™å‡ ä¸ªé’©å­å‡½æ•°ï¼š\n\n#### componentWillReceiveProps(newProps)Â \n\nçˆ¶ç»„ä»¶æ›´æ–° props é’©å­**(17ç‰ˆæœ¬åä¸æ¨èä½¿ç”¨)**\n\n#### shouldComponentUpdate(nextProps, nextState)Â Â \n\nç»„ä»¶æ˜¯å¦æ›´æ–°é’©å­\n\nç”±äº React çˆ¶ç»„ä»¶æ›´æ–°ï¼Œå¿…ç„¶ä¼šå¯¼è‡´å­ç»„ä»¶æ›´æ–°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨å­ç»„ä»¶ä¸­é€šè¿‡æ‰‹åŠ¨å¯¹æ¯” `props` ä¸ `nextProps`ï¼Œ`state` ä¸ `nextState` æ¥ç¡®å®šæ˜¯å¦éœ€è¦é‡æ–°æ¸²æŸ“å­ç»„ä»¶ï¼Œå¦‚æœéœ€è¦åˆ™è¿”å›`true`ï¼Œä¸éœ€è¦åˆ™è¿”å› `false`ã€‚è¯¥å‡½æ•°é»˜è®¤è¿”å› `true`ã€‚\n\n```\n shouldComponentUpdate(nextProps, nextState) {\n   console.log('Counter', nextProps, nextState);\n   console.log('5. shouldComponentUpdate è¯¢é—®ç»„ä»¶æ˜¯å¦éœ€è¦æ›´æ–°');\n   return true;\n }\n```\n\n#### componentWillUpdate()\n\nç»„ä»¶æ›´æ–°å‰é’©å­**(17ç‰ˆæœ¬åä¸æ¨èä½¿ç”¨)**\n\n#### componentDidUpdate()Â \n\næ­¤ç”Ÿå‘½å‘¨æœŸæ–¹æ³•åœ¨ç»„ä»¶æ›´æ–°å®Œåè¢«è°ƒç”¨ã€‚\n\n-   å› ä¸ºç»„ä»¶å·²ç»é‡æ–°æ¸²æŸ“äº†æ‰€ä»¥è¿™é‡Œå¯ä»¥å¯¹ç»„ä»¶ä¸­çš„ DOM è¿›è¡Œæ“ä½œï¼›\n-   åœ¨æ¯”è¾ƒäº† `this.props`Â å’Œ `nextProps`Â çš„å‰æä¸‹å¯ä»¥å‘é€ç½‘ç»œè¯·æ±‚ã€‚\n\n```\ncomponentDidUpdate(prevProps, prevState, snapshot) {\n\tif (this.props.userID !== prevProps.userID) {\n    this.fetchData(this.props.userID);\n  }\n}\n```\n\n### å¸è½½é˜¶æ®µ\n\nè¿™ä¸ªé˜¶æ®µä¸»è¦æ˜¯ä» DOM æ ‘ä¸­åˆ é™¤ç»„ä»¶çš„æ“ä½œï¼Œå®ƒçš„é’©å­åªæœ‰ä¸€ä¸ª `componentWillUnmount`Â ã€‚\n\n#### componentWillUnmount()Â \n\nè¿™æ˜¯ `unmount`Â é˜¶æ®µå”¯ä¸€çš„ç”Ÿå‘½å‘¨æœŸï¼Œåœ¨è¿™é‡Œè¿›è¡Œçš„æ˜¯å–„åå·¥ä½œï¼šæ¸…ç†è®¡æ—¶å™¨ã€å–æ¶ˆç½‘ç»œè¯·æ±‚æˆ–è€…å–æ¶ˆäº‹ä»¶ç›‘å¬ç­‰ã€‚\n\n\n### 17ç‰ˆæœ¬ç”Ÿå‘½å‘¨æœŸ\n\næ–°å¢äº†ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š\n\n1.  `static getDerivedStateFromProps(nextProps, prevState)`\n1.  `getSnapshotBeforeUpdate(prevProps, prevState)`\n\nåˆ é™¤äº†ä»¥ä¸‹ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š\n\n1.  `componentWillMount`\n1.  `componentWillReceiveProps`\n1.  `componentWillUpdate`\n\nä»è¿™ä¸ªç‰ˆæœ¬å¼€å§‹ï¼Œåªæœ‰æ–°çš„ `UNSAFE_`Â ç”Ÿå‘½å‘¨æœŸåç§°å°†èµ·ä½œç”¨ï¼š\n\n1.  `UNSAFE_componentWillMount`\n1.  `UNSAFE_componentWillReceiveProps`\n1.  `UNSAFE_componentWillUpdate`\n\n#### static getDerivedStateFromProps(nextProps, prevState)\n\nåœ¨ `render` å‰è°ƒç”¨ï¼Œåœ¨åˆå§‹æŒ‚è½½ä»¥åŠåç»­æ›´æ–°æ—¶éƒ½ä¼šè¢«è°ƒç”¨ã€‚\n\nä»–åº”è¯¥è¿”å›ä¸€ä¸ªå¯¹è±¡æ¥æ›´æ–° `state`ã€‚å¦‚æœè¿”å› `null` åˆ™ä¸æ›´æ–°ä»»ä½•å†…å®¹ã€‚\n\nå®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯ä¼ è¿›æ¥çš„ `nextProps` å’Œä¹‹å‰çš„ `prevState`ã€‚\n\n```\nstatic getDerivedStateFromProps(nextProps, prevState){\n  console.log('getDerivedStateFromProps',nextProps,prevState);\n  return null;\n}\n```\n\n#### getSnapshotBeforeUpdate(prevProps, prevState)\n\nåœ¨æ›´æ–°é˜¶æ®µ render åæŒ‚è½½åˆ°çœŸå® DOM å‰è¿›è¡Œçš„æ“ä½œï¼Œå®ƒä½¿å¾—ç»„ä»¶èƒ½åœ¨å‘ç”Ÿæ›´æ”¹ä¹‹å‰ä» DOM ä¸­æ•è·ä¸€äº›ä¿¡æ¯ã€‚æ­¤ç»„ä»¶è¿”å›çš„ä»»ä½•å€¼å°†ä½œä¸º `componentDidUpdate` çš„ç¬¬ä¸‰ä¸ªå‚æ•°ã€‚\n\n```\n  getSnapshotBeforeUpdate(prevProps, prevState){\n    return \"getSnapshotBeforeUpdate\";\n  }\n\n  // ç»„ä»¶æ›´æ–°æˆåŠŸé’©å­\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    console.log(snapshot); // \"getSnapshotBeforeUpdate\"\n  }\n```\n\n[ç”Ÿå‘½å‘¨æœŸç½‘ç«™æŸ¥è¯¢é“¾æ¥](https://link.juejin.cn?target=https%3A%2F%2Fprojects.wojtekmaj.pl%2Freact-lifecycle-methods-diagram%2F \"https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/\")\n\nä»¥ä¸Šå°±æ˜¯ Class ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä»¥åŠä½¿ç”¨æ–¹æ³•ï¼Œç„¶è€Œä¸è®º Class ç»„ä»¶å¤šå¥½ç”¨ï¼Œæˆ‘ä»¬å·²ç»æ‹¥æŠ±Hooksã€‚\n\n## Function Component ç”Ÿå‘½å‘¨æœŸ\n\n`Function Component`Â æ˜¯æ›´å½»åº•çš„çŠ¶æ€é©±åŠ¨æŠ½è±¡ï¼Œç”šè‡³æ²¡æœ‰ `Class Component`Â ç”Ÿå‘½å‘¨æœŸçš„æ¦‚å¿µï¼Œåªæœ‰ä¸€ä¸ªçŠ¶æ€ï¼Œè€Œ React è´Ÿè´£åŒæ­¥åˆ° DOMã€‚\n\nå›é¡¾ä¸‹åœ¨ `Class Component`Â çš„æ•°æ®è¯·æ±‚ï¼š\n\n1.  åœ¨ `componentDidMount` åˆå§‹åŒ–å‘è¯·æ±‚ï¼›\n1.  åœ¨ `componentDidUpdate` åˆ¤æ–­å‚æ•°æ˜¯å¦å˜åŒ–ï¼Œå˜åŒ–å°±è°ƒç”¨è¯·æ±‚å‡½æ•°é‡æ–°è¯·æ±‚æ•°æ®ï¼›\n1.  åœ¨ `componentWillUnmount` ç”Ÿå‘½å‘¨æœŸå–æ¶ˆå‘é€è¯·æ±‚ã€‚\n\né‚£ä¹ˆåœ¨å‡½æ•°ç»„ä»¶ä¸­æˆ‘ä»¬è¯¥å¦‚ä½•åšå‘¢ï¼Ÿç­”æ¡ˆæ˜¯ `useEffect`Â ã€‚\n\n### useEffect\n\n`useEffect`Â å°±æ˜¯ä¸€ä¸ª `Effect Hook`Â ï¼Œç»™å‡½æ•°ç»„ä»¶å¢åŠ äº†æ“ä½œå‰¯ä½œç”¨çš„èƒ½åŠ›ã€‚å®ƒè·Ÿ class ç»„ä»¶ä¸­çš„Â `componentDidMount`Â ã€ `componentDidUpdate`Â Â å’ŒÂ `componentWillUnmount`Â å…·æœ‰ç›¸åŒçš„ç”¨é€”ï¼Œåªä¸è¿‡è¢«åˆå¹¶æˆäº†ä¸€ä¸ª APIã€‚\n\n**useEffect åšäº†ä»€ä¹ˆï¼š**\n\n-   ä½¿ç”¨ `useEffect`Â ç›¸å½“äºå‘Šè¯‰ React ç»„ä»¶éœ€è¦åœ¨æ¸²æŸ“åæ‰§è¡ŒæŸäº›æ“ä½œï¼ŒReact å°†åœ¨æ‰§è¡Œ DOM æ›´æ–°ä¹‹åè°ƒç”¨å®ƒã€‚\n-   React ä¿è¯äº†æ¯æ¬¡è¿è¡Œ `useEffect` çš„æ—¶å€™ï¼ŒDOM å·²ç»æ›´æ–°å®Œæ¯•ã€‚\n\nClass ç»„ä»¶ Demoï¼š\n\n```\nclass Example extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      count: 0\n    };\n  }\n\n  componentDidMount() {\n    document.title = `You clicked ${this.state.count} times`;\n  }\n  componentDidUpdate() {\n    document.title = `You clicked ${this.state.count} times`;\n  }\n\n  render() {\n    return (\n      <div>\n        <p>You clicked {this.state.count} times</p>\n        <button onClick={() => this.setState({ count: this.state.count + 1 })}>\n          Click me\n        </button>\n      </div>\n    );\n  }\n}\n```\n\nFunction Component é‡å†™è¯¥æ¡ˆä¾‹ï¼š\n\n```\nimport React, { useState, useEffect } from 'react';\n\nfunction Example() {\n  const [count, setCount] = useState(0);\n\n  // ç›¸å½“äº componentDidMount å’Œ componentDidUpdate:\n  useEffect(() => {\n    // ä½¿ç”¨æµè§ˆå™¨çš„ API æ›´æ–°é¡µé¢æ ‡é¢˜\n    document.title = `You clicked ${count} times`;\n  });\n\n  return (\n    <div>\n      <p>You clicked {count} times</p>\n      <button onClick={() => setCount(count + 1)}>\n        Click me\n      </button>\n    </div>\n  );\n}\n```\n\n### éœ€è¦æ¸…é™¤çš„ effect\n\nåœ¨ class ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å»ç›‘å¬åŸç”Ÿ DOM äº‹ä»¶æ—¶ï¼Œä¼šåœ¨ `componentDidMount` è¿™ä¸ªç”Ÿå‘½å‘¨æœŸä¸­å»åšï¼Œå› ä¸ºåœ¨è¿™é‡Œå¯ä»¥è·å–åˆ°å·²ç»æŒ‚è½½çš„çœŸå® DOMã€‚æˆ‘ä»¬ä¹Ÿä¼šåœ¨ç»„ä»¶å¸è½½çš„æ—¶å€™å»å–æ¶ˆäº‹ä»¶ç›‘å¬é¿å…å†…å­˜æ³„éœ²ã€‚é‚£ä¹ˆåœ¨ `useEffect` ä¸­è¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ\n\n```\nuseEffect(() => {\n  function handleClick(status) {\n    document.title = `You clicked ${count} times`;\n  }\n  \n  document.body.addEventListener(\"click\",handleClick,false);\n \n  return function cleanup() {\n    document.body.removeEventListener(\"click\",handleClick,false);\n  };\n});\n```\n\né€šè¿‡åœ¨ `useEffect` ä¸­è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¾¿å¯ä»¥æ¸…ç†å‰¯ä½œç”¨ã€‚\n\næ¸…ç†è§„åˆ™æ˜¯ï¼š\n\n-   **é¦–æ¬¡æ¸²æŸ“ä¸ä¼šè¿›è¡Œæ¸…ç†ï¼Œä¼šåœ¨ä¸‹ä¸€æ¬¡æ¸²æŸ“ï¼Œæ¸…é™¤ä¸Šä¸€æ¬¡çš„å‰¯ä½œç”¨ï¼›**\n-   **å¸è½½é˜¶æ®µä¹Ÿä¼šæ‰§è¡Œæ¸…é™¤æ“ä½œã€‚**\n\n### Dependencies\n\nåœ¨ `useEffect`Â ä¸­æˆ‘ä»¬ä¼šå»è¯·æ±‚åå°æ•°æ®ï¼Œé€šè¿‡å‰é¢çš„å­¦ä¹ æˆ‘ä»¬ä¹Ÿäº†è§£åˆ°æ¯æ¬¡æ›´æ–°ç»„ä»¶æ—¶æˆ‘ä»¬éƒ½ä¼šå†æ¬¡å»æ‰§è¡Œ `useEffect` ï¼Œä½†å…¶å®æˆ‘ä»¬å¹¶ä¸éœ€è¦æ¯æ¬¡æ›´æ–°ç»„ä»¶éƒ½å‘é€è¯·æ±‚ã€‚é‚£ä¹ˆç¢°åˆ°è¿™æ ·çš„é—®é¢˜å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ\n\nå›é¡¾ä¸Šé¢æ˜¯ä¸æ˜¯ç±»ä¼¼äº `componentDidUpdate` ä¸­å‘é€è¯·æ±‚å‘¢ï¼Ÿç›´è§‰æ˜¯å¯¹çš„ï¼Œåœ¨`componentDidUpdate` ä¸­æˆ‘ä»¬æ˜¯é€šè¿‡åˆ¤æ–­å‚æ•°æ˜¯å¦å˜åŒ–æ¥é¿å…æ¯æ¬¡éƒ½å‘é€è¯·æ±‚ï¼Œé‚£ä¹ˆåœ¨ `useEffect hook` ä¸­æˆ‘ä»¬ä¹Ÿæ˜¯å¼‚æ›²åŒå·¥ï¼Œé€šè¿‡ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¦å‘ç”Ÿå˜æ¢æ¥å†³å®šæ˜¯å¦é‡å¤æ‰§è¡Œï¼Œå¦‚æœç¬¬äºŒå‚æ•°ä¸ºç©ºæ•°ç»„ï¼Œåˆ™è¡¨ç¤ºåªåœ¨åˆå§‹åŒ–æ‰§è¡Œä¸€æ¬¡ï¼Œåç»­æ›´æ–°ä¸ä¼šå†æ¬¡è°ƒç”¨ã€‚\n\n```\nuseEffect(() => {\n  fetchData(instanceId){...}\n  \n  fetchData(instanceId);\n}, [instanceId]);\n```\n\nä¸Šé¢ä¾‹å­æ˜¯é€šè¿‡ `fetchData` å‡½æ•°å»è¯·æ±‚åå°æ•°æ®ï¼Œå…·ä½“å‡½æ•°ä½“æˆ‘ä»¬å°±çœç•¥äº†ï¼Œç„¶åä½ ä¼šå‘ç°`useEffect` çš„ç¬¬äºŒä¸ªå‚æ•°æ·»åŠ äº†ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­æ·»åŠ äº†ä¸€ä¸ªå‚æ•° `instanceId`ï¼Œå®ƒè¡¨ç¤ºåªæœ‰å½“`instanceId` å˜åŒ–æ—¶ï¼Œæˆ‘ä»¬æ‰å»å†æ¬¡æ‰§è¡Œ `useEffect`ã€‚è¿™æ ·å°±å¯ä»¥é¿å…æˆ‘ä»¬å¤šæ¬¡è¯·æ±‚åå°æ•°æ®ã€‚\n\nå½“ç„¶æˆ‘ä»¬çš„ä¾èµ–é¡¹è¿˜å¯ä»¥ä¼ å…¥ä¸€ä¸ªç©ºæ•°ç»„ï¼Œå°±è¡¨ç¤ºåªåœ¨åˆå§‹åŒ–æ—¶æ‰§è¡Œä¸€æ¬¡ï¼š\n\n```\nuseEffect(() => {\n  fetchData(instanceId){...}\n  \n  fetchData(instanceId);\n}, []);\n```\n\n### useCallback\n\n```\nconst memoizedCallback = useCallback(\n  () => {\n    doSomething(a);\n  },\n  [a],\n);\n```\n\næŠŠå†…è”å›è°ƒå‡½æ•°åŠä¾èµ–é¡¹æ•°ç»„ä½œä¸ºå‚æ•°ä¼ å…¥Â `useCallback`Â ï¼Œå®ƒå°†è¿”å›è¯¥å›è°ƒå‡½æ•°çš„ `memoized`Â ç‰ˆæœ¬ï¼Œè¯¥å›è°ƒå‡½æ•°ä»…åœ¨æŸä¸ªä¾èµ–é¡¹æ”¹å˜æ—¶æ‰ä¼šæ›´æ–°ã€‚\n\né€šä¿—æ¥è®²å½“å‚æ•° a å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°å¼•ç”¨èµ‹å€¼ç»™ `memoizedCallback`Â å˜é‡ï¼Œå› æ­¤è¿™ä¸ªå˜é‡å°±å¯ä»¥å½“åš `useEffect` ç¬¬äºŒä¸ªå‚æ•°ã€‚è¿™æ ·å°±æœ‰æ•ˆçš„å°†é€»è¾‘åˆ†ç¦»å‡ºæ¥ã€‚\n\n```\nfunction Parent(){\n\tconst [query,setQuery] = useState('q');\n  const fetchData = useCallback(()=>{\n  \t...çœç•¥å‡½æ•°ä½“çš„å…·ä½“å®ç°\n  },[query]);\n  return <Child fetchData={fetchData} />\n}\n  \nfunction Child({fetchData}){\n  const [data,setData] = useState(null);\n\tuseEffect(()=>{\n  \tfetchData().then(setData);\n  },[fetchData])\n}\n```\n\nç»è¿‡ `useCallback` åŒ…è£…è¿‡çš„å‡½æ•°å¯ä»¥å½“ä½œæ™®é€šå˜é‡ä½œä¸º `useEffect` çš„ä¾èµ–ã€‚ `useCallback`åšçš„äº‹æƒ…ï¼Œå°±æ˜¯åœ¨å…¶ä¾èµ–å˜åŒ–æ—¶ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°å¼•ç”¨ï¼Œè§¦å‘ `useEffect` çš„ä¾èµ–å˜åŒ–ï¼Œå¹¶æ¿€æ´»å…¶é‡æ–°æ‰§è¡Œã€‚\n\nç°åœ¨æˆ‘ä»¬ä¸éœ€è¦åœ¨ `useEffect`Â ä¾èµ–ä¸­ç›´æ¥å¯¹æ¯” `query`Â å‚æ•°äº†ï¼Œè€Œå¯ä»¥ç›´æ¥å¯¹æ¯” `fetchData`Â å‡½æ•°ã€‚useEffect åªè¦å…³å¿ƒ `fetchData`Â å‡½æ•°æ˜¯å¦å˜åŒ–ï¼Œè€Œ `fetchData`Â å‚æ•°çš„å˜åŒ–åœ¨ `useCallback`Â æ—¶å…³å¿ƒï¼Œèƒ½åšåˆ° ä¾èµ–ä¸ä¸¢ã€é€»è¾‘å†…èšï¼Œä»è€Œå®¹æ˜“ç»´æŠ¤ã€‚\n\n## å°ç»“\n\næœ¬æ–‡é€šè¿‡è®²è§£ `Class Component` ä¸ `Function Component`åˆ†åˆ«çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œè®©æˆ‘ä»¬å¯ä»¥æ›´åŠ æ·±å…¥çš„ç†è§£ React çš„è¿è¡ŒåŸç†ã€‚å¹¶ä¸”ç”Ÿå‘½å‘¨æœŸä¹Ÿæ˜¯é¢è¯•ä¸­å¸¸è§é—®é¢˜ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ç†Ÿç»ƒæŒæ¡ã€‚\n\nä½œè€…ï¼šLion\né“¾æ¥ï¼šhttps://juejin.cn/post/6871728918643081230\næ¥æºï¼šç¨€åœŸæ˜é‡‘","viewCount":114,"createTime":"2022-06-02T07:28:49.694Z","updateTime":"2022-06-02T07:28:49.694Z","__v":0},{"_id":"6298669925f88c33044481a8","title":"vueå…¨å±€æç¤ºæ’ä»¶å¼€å‘-toast","markContent":"**å‰è¨€**\n\nåœ¨æ²¡æœ‰å°è£…æ’ä»¶ä¹‹å‰ï¼Œå¦‚æœä¸ä½¿ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œé‚£ä¹ˆå¾ˆå¤šæƒ…å†µä¸‹æˆ‘ä»¬ä¼šç¼–å†™å‡ ä¸ªå¸¸ç”¨çš„ç»„ä»¶æ¥æä¾›ç»™é¡µé¢ä½¿ç”¨ï¼Œå¦‚Alert/Loadingç»„ä»¶ï¼Œè€Œä½ å¯èƒ½éœ€è¦åœ¨å¾ˆå¤šé¡µé¢ä¸­å¼•å…¥å¹¶ä¸”é€šè¿‡componentsæ³¨å†Œç»„ä»¶ï¼Œä½†æ˜¯åƒè¿™æ ·ä½¿ç”¨ç‡å¾ˆé«˜çš„ç»„ä»¶ä¸€èˆ¬æˆ‘ä»¬å¸Œæœ›å…¨å±€æ³¨å†Œåç›´æ¥å°±å¯ä»¥åœ¨ç›¸åº”é¡µé¢ä½¿ç”¨ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†ä»–ä»¬å°è£…æˆæ’ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬ç¼–å†™ä¸€ä¸ªtoastå…¨å±€æç¤ºæ’ä»¶æ¥ä½œä¸ªç®€å•çš„ä»‹ç»\n\n**æ’ä»¶**\n\n```\næ’ä»¶é€šå¸¸ç”¨æ¥ä¸º Vue æ·»åŠ å…¨å±€åŠŸèƒ½ã€‚æ’ä»¶çš„åŠŸèƒ½èŒƒå›´æ²¡æœ‰ä¸¥æ ¼çš„é™åˆ¶â€”â€”ä¸€èˆ¬æœ‰ä¸‹é¢å‡ ç§ï¼š\n\n1.æ·»åŠ å…¨å±€æ–¹æ³•æˆ–è€… propertyã€‚\n\n2.æ·»åŠ å…¨å±€èµ„æºï¼šæŒ‡ä»¤/è¿‡æ»¤å™¨/è¿‡æ¸¡ç­‰ã€‚\n\n3.é€šè¿‡å…¨å±€æ··å…¥æ¥æ·»åŠ ä¸€äº›ç»„ä»¶é€‰é¡¹ã€‚\n\n4.æ·»åŠ  Vue å®ä¾‹æ–¹æ³•ï¼Œé€šè¿‡æŠŠå®ƒä»¬æ·»åŠ åˆ° Vue.prototype ä¸Šå®ç°ã€‚\n\n5.ä¸€ä¸ªåº“ï¼Œæä¾›è‡ªå·±çš„ APIï¼ŒåŒæ—¶æä¾›ä¸Šé¢æåˆ°çš„ä¸€ä¸ªæˆ–å¤šä¸ªåŠŸèƒ½ã€‚\n```\n\nvueæ’ä»¶çš„ç¼–å†™æ–¹æ³•ä¸€èˆ¬åˆ†ä¸ºä»¥ä¸Š5ç±»ï¼Œå…¶æ³¨å†Œä¸ç»‘å®šæœºåˆ¶å¦‚ä¸‹ï¼š\n\n```\nexport default {\n    install(Vue, options) {\n        Vue.myGlobalMethod = function () {  // 1. æ·»åŠ å…¨å±€æ–¹æ³•æˆ–å±æ€§ï¼Œå¦‚:  vue-custom-element\n            // é€»è¾‘...\n        }\n        Vue.directive('my-directive', {  // 2. æ·»åŠ å…¨å±€èµ„æºï¼šæŒ‡ä»¤/è¿‡æ»¤å™¨/è¿‡æ¸¡ç­‰ï¼Œå¦‚ vue-touch\n            bind (el, binding, vnode, oldVnode) {\n                // é€»è¾‘...\n            }\n            ...\n        })\n        Vue.mixin({\n            created: function () {  // 3. é€šè¿‡å…¨å±€ mixinæ–¹æ³•æ·»åŠ ä¸€äº›ç»„ä»¶é€‰é¡¹ï¼Œå¦‚: vuex\n                // é€»è¾‘...\n            }\n            ...\n        })\n        Vue.prototype.$myMethod = function (options) {  // 4. æ·»åŠ å®ä¾‹æ–¹æ³•ï¼Œé€šè¿‡æŠŠå®ƒä»¬æ·»åŠ åˆ° Vue.prototype ä¸Šå®ç°\n            // é€»è¾‘...\n        }\n    }\n}\n```\n\n\\\nä¸Šæ–¹ä»£ç ä½¿ç”¨äº†es6éƒ¨åˆ†è¯­æ³•åˆ—å‡ºäº†4ç§ç¼–å†™æ’ä»¶çš„æ–¹æ³•ï¼Œè€Œinstallæ˜¯æ³¨å†Œæ’ä»¶ä¸»è¦è°ƒç”¨çš„æ–¹æ³•ï¼ŒåŒ…å«äº†ä¸¤ä¸ªå‚æ•°ï¼ˆVueå®ä¾‹å’Œè‡ªå®šä¹‰é…ç½®å±æ€§optionsï¼‰\n\n**å¼€å‘æ’ä»¶**\n\næˆ‘ä»¬è¿™é‡Œä¸»è¦ä½¿ç”¨çš„æ˜¯ç¬¬å››ç§æ–¹æ³•ï¼Œå°†æˆ‘ä»¬çš„æ’ä»¶å‡½æ•°æ³¨å†Œåˆ°Vue.prototypeå®ä¾‹ä¸Šé¢\\\né¦–å…ˆæˆ‘ä»¬åœ¨pluginé‡Œåˆ›å»ºä¸ªtoastæ–‡ä»¶å¤¹ç”¨æ¥æ”¾ç½®æ’ä»¶,é‡Œé¢åŒ…å«ä¸¤ä¸ªæ–‡ä»¶ï¼Œtoast.vueå’Œtoast.jsï¼Œ\n\n\\\n\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3762e7487fa745d5a732f5e9697196ee~tplv-k3u1fbpfcp-zoom-1.image)\n\n\\\n\n\nç„¶ååœ¨ç¼–å†™æˆ‘ä»¬çš„æ ·å¼ç»“æ„æ–‡ä»¶toast.vue\n\nè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªvisibleå˜é‡æ¥æ§åˆ¶æç¤ºæ¡†çš„æ˜¾ç¤ºï¼Œmessageä¸ºæç¤ºçš„æ¶ˆæ¯\n\n```\n<template>\n      <div v-if=\"visible\">\n          <div>{{message}}</div>\n      </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      visible: false,\n      message: \"\"\n    };\n  }\n};\n</script>\n```\n\n\\\næ¥ç€åœ¨toast.jsé‡Œé¢ç¼–å†™æ’ä»¶çš„æ–¹æ³•ä¸å¤„ç†å‡½æ•°\n\n```\nimport ToastComponent from './toast.vue'    //å¼•å…¥toast.vueç»„ä»¶\n\nexport default {    // å¯¼å‡ºä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢åŒ…å«vueæ³¨å†Œæ’ä»¶æ‰€è°ƒç”¨çš„æ–¹æ³•install\n    install: function (Vue) {\n        const ToastConstructor = Vue.extend(ToastComponent)    // å°†toast.vueç»„ä»¶ç”Ÿæˆä¸ºVueçš„å­ç±»\n        const instance = new ToastConstructor();    // ç”Ÿæˆä¸€ä¸ªè¯¥å­ç±»çš„å®ä¾‹\n\n        instance.$mount(document.createElement('div'))    // å°†è¿™ä¸ªå®ä¾‹æŒ‚è½½åœ¨æ–°åˆ›å»ºçš„divä¸Šï¼Œå¹¶åŠ å…¥åˆ°bodyä¸­\n        document.body.appendChild(instance.$el)\n\n        // é€šè¿‡Vueçš„åŸå‹æ³¨å†Œä¸€ä¸ªæ–¹æ³•$toastï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼ˆmsgä¸ºæç¤ºçš„æ–‡å­—ï¼Œdurationä¸ºå»¶æ—¶å…³é—­ï¼‰\n        Vue.prototype.$toast = (msg, duration = 1500) => {\n            if (instance.visible) return;    // visibleæ˜¯toast.vueç»„ä»¶çš„ä¸€ä¸ªå˜é‡ï¼Œç”¨æ¥æ§åˆ¶æç¤ºæ¡†çš„æ˜¾ç¤º\n\n            instance.message = msg;\n            instance.visible = true;\n\n            setTimeout(() => {    // é»˜è®¤å»¶æ—¶1.5så…³é—­æç¤ºæ¡†\n                instance.visible = false;\n            }, duration);\n        }\n    }\n}\n```\n\n\\\nè¿™æ ·æˆ‘ä»¬å°±å®Œæˆäº†ç»„ä»¶çš„å°è£…ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•\n\n**ä½¿ç”¨æ’ä»¶**\n\nç°åœ¨æŠŠæˆ‘ä»¬å°è£…å¥½çš„æ’ä»¶å¼•å…¥åˆ°main.jsä¸­\n\n```\nimport toast from './plugin/toast'\nVue.use(toast);\n```\n\n\\\nç„¶åæˆ‘ä»¬å°±å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨å®ƒäº†\n\n```\nthis.$toast('æç¤ºæ–‡å­—')\n```\n\næˆ‘ä»¬ç°åœ¨æŠŠtoast.vueæ·»åŠ ä¸Šæ ·å¼å’Œè¿‡åº¦æ•ˆæœï¼Œè®©å®ƒçœ‹èµ·æ¥æ›´åŠ çš„å‹å¥½ï¼Œä»¥ä¸‹æ˜¯toast.vueæ–‡ä»¶çš„å…¨éƒ¨å†…å®¹\n\n```\n<template>\n   <!-- å…¨å±€æç¤ºæ¡† -->\n   <transition name=\"slide-fade\">\n      <div v-if=\"visible\" class=\"dialog-tips\">\n          <div>{{message}}</div>\n      </div>\n  </transition>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      visible: false,\n      message: \"\"\n    };\n  }\n};\n</script>\n<style scoped>\n.dialog-tips{\n    min-width: 380px;\n    box-sizing: border-box;\n    border-radius: 4px;\n    border: 1px solid #e1f3d8;\n    position: fixed;\n    left: 50%;\n    top: 20px;\n    transform: translateX(-50%);\n    background-color: #f0f9eb;\n    overflow: hidden;\n    padding: 15px 15px 15px 20px;\n    display: flex;\n    align-items: center;\n    color: #67c23a;\n}\n\n.slide-fade-enter, .slide-fade-leave-to {\n  margin-top:-30px;\n  opacity: 0;\n\n}\n\n.slide-fade-enter-active,.slide-fade-leave-active {\n  transition: all .3s ease;\n}\n\n.slide-fade-enter-to,.slide-fade-leave {\n  margin-top:0px;\n  opacity:1;\n}\n</style>\n```\n\n\\\nè®©æˆ‘ä»¬æ¥çœ‹çœ‹æ•ˆæœ\n\n![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e6174dcccd564c12ac1a757c04726898~tplv-k3u1fbpfcp-zoom-1.image)\n\n\\\n\n\n**ç»“è¯­**\n\nä»¥ä¸Šæˆ‘ä»¬å°±å®ç°äº†ä¸€ä¸ªç®€å•çš„toastæ’ä»¶ï¼Œå¼€å‘æ’ä»¶çš„æ–¹å¼å’Œæ’ä»¶çš„ç±»å‹æœ‰å¾ˆå¤šç§ï¼Œè¿™é‡Œåªæ˜¯ä»‹ç»äº†å…¶ä¸­çš„ä¸€ç§æ–¹å¼ï¼Œå¸®åŠ©å¤§å®¶äº†è§£åœ¨ç¼–å†™æ’ä»¶çš„è¿‡ç¨‹ä¸­æ‰€ç”¨åˆ°çš„æ–¹æ³•ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶å®ƒæ–¹æ³•æ¥å»å¼€å‘ä¸åŒç±»å‹çš„æ’ä»¶ã€‚","viewCount":91,"createTime":"2022-06-02T07:28:25.063Z","updateTime":"2022-06-02T07:28:25.063Z","__v":0},{"_id":"6298664525f88c33044481a5","title":"ä½ ä¼šç”¨ES6ï¼Œé‚£å€’æ˜¯ç”¨å•Šï¼","markContent":"![](http://developers-center.oss-cn-beijing.aliyuncs.com/undraw_static_assets_rpm6.svg)\n\nä¸æ˜¯æ ‡é¢˜å…šï¼Œè¿™æ˜¯ä¸€ä½leaderåœ¨ä¸€æ¬¡ä»£ç è¯„å®¡ä¼šå¯¹å°ç»„æˆå‘˜å‘å‡ºçš„â€œæ€’å¼â€ï¼ŒåŸå› æ˜¯åœ¨ä»£ç è¯„å®¡ä¸­å‘ç°å¾ˆå¤šåœ°æ–¹è¿˜æ˜¯é‡‡ç”¨ES5çš„å†™æ³•ï¼Œä¹Ÿä¸æ˜¯è¯´ç”¨ES5å†™æ³•ä¸è¡Œï¼Œä¼šæœ‰BUGï¼Œåªæ˜¯é€ æˆä»£ç é‡å¢å¤šï¼Œå¯è¯»æ€§å˜å·®è€Œå·²ã€‚\n\næ°å¥½ï¼Œè¿™ä½leaderæœ‰ä»£ç æ´ç™–ï¼Œé¢å¯¹3~5å¹´ç»éªŒçš„æˆå‘˜ï¼Œè¿˜å†™è¿™ç§æ°´å¹³çš„ä»£ç ï¼Œæä¸ºä¸æ»¡ï¼Œä¸æ–­å¯¹ä»£ç è¿›è¡Œåæ§½ã€‚ä¸è¿‡å¯¹äºä»–çš„åæ§½ï¼Œæˆ‘æ„Ÿè§‰è¿˜æ˜¯æœ‰å¾ˆå¤§æ”¶è·çš„ï¼Œæ•…å°±æŠŠleaderçš„åæ§½è®°å½•ä¸‹æ¥ï¼Œåˆ†äº«ç»™æ˜å‹ä»¬ï¼Œè§‰å¾—æœ‰æ”¶è·ç‚¹ä¸ªèµï¼Œæœ‰é”™è¯¯çš„æˆ–è€…æ›´å¥½çš„å†™æ³•ï¼Œéå¸¸æ¬¢è¿åœ¨è¯„è®ºä¸­ç•™è¨€ã€‚\n\n**psï¼šES5ä¹‹åçš„JSè¯­æ³•ç»Ÿç§°ES6ï¼ï¼ï¼**\n\n## ä¸€ã€å…³äºå–å€¼çš„åæ§½\n\nå–å€¼åœ¨ç¨‹åºä¸­éå¸¸å¸¸è§ï¼Œæ¯”å¦‚ä»å¯¹è±¡`obj`ä¸­å–å€¼ã€‚\n\n```\nconst obj = {\n    a:1,\n    b:2,\n    c:3,\n    d:4,\n    e:5,\n}\n```\n\n**åæ§½**ï¼š\n\n```\nconst a = obj.a;\nconst b = obj.b;\nconst c = obj.c;\nconst d = obj.d;\nconst e = obj.e;\n```\n\næˆ–è€…\n\n```\nconst f = obj.a + obj.d;\nconst g = obj.c + obj.e;\n```\n\nåæ§½ï¼šâ€œä¸ä¼šç”¨ES6çš„è§£æ„èµ‹å€¼æ¥å–å€¼å—ï¼Ÿ5è¡Œä»£ç ç”¨1è¡Œä»£ç æå®šä¸é¦™å—ï¼Ÿç›´æ¥ç”¨å¯¹è±¡ååŠ å±æ€§åå»å–å€¼ï¼Œè¦æ˜¯å¯¹è±¡åçŸ­è¿˜å¥½ï¼Œå¾ˆé•¿å‘¢ï¼Ÿæå¾—ä»£ç ä¸­åˆ°å¤„éƒ½æ˜¯è¿™ä¸ªå¯¹è±¡åã€‚â€\n\n**æ”¹è¿›**ï¼š\n\n```\nconst {a,b,c,d,e} = obj;\nconst f = a + d;\nconst g = c + e;\n```\n\n**åé©³**\n\nä¸æ˜¯ä¸ç”¨ES6çš„è§£æ„èµ‹å€¼ï¼Œè€Œæ˜¯æœåŠ¡ç«¯è¿”å›çš„æ•°æ®å¯¹è±¡ä¸­çš„å±æ€§åä¸æ˜¯æˆ‘æƒ³è¦çš„ï¼Œè¿™æ ·å–å€¼ï¼Œä¸æ˜¯è¿˜å¾—é‡æ–°åˆ›å»ºä¸ªéå†èµ‹å€¼ã€‚\n\n**åæ§½**\n\nçœ‹æ¥ä½ å¯¹ES6çš„è§£æ„èµ‹å€¼æŒæ¡çš„è¿˜æ˜¯ä¸å¤Ÿå½»åº•ã€‚å¦‚æœæƒ³åˆ›å»ºçš„å˜é‡åå’Œå¯¹è±¡çš„å±æ€§åä¸ä¸€è‡´ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š\n\n```\nconst {a:a1} = obj;\nconsole.log(a1);// 1\n```\n\n**è¡¥å……**\n\nES6çš„è§£æ„èµ‹å€¼è™½ç„¶å¥½ç”¨ã€‚ä½†æ˜¯è¦æ³¨æ„è§£æ„çš„å¯¹è±¡ä¸èƒ½ä¸º`undefined`ã€`null`ã€‚å¦åˆ™ä¼šæŠ¥é”™ï¼Œæ•…è¦ç»™è¢«è§£æ„çš„å¯¹è±¡ä¸€ä¸ªé»˜è®¤å€¼ã€‚\n\n```\nconst {a,b,c,d,e} = obj || {};\n```\n\n## äºŒã€å…³äºåˆå¹¶æ•°æ®çš„åæ§½\n\næ¯”å¦‚åˆå¹¶ä¸¤ä¸ªæ•°ç»„ï¼Œåˆå¹¶ä¸¤ä¸ªå¯¹è±¡ã€‚\n\n```\nconst a = [1,2,3];\nconst b = [1,5,6];\nconst c = a.concat(b);//[1,2,3,1,5,6]\n\nconst obj1 = {\n  a:1,\n}\nconst obj2 = {\n  b:1,\n}\nconst obj = Object.assign({}, obj1, obj2);//{a:1,b:1}\n```\n\n**åæ§½**\n\nES6çš„æ‰©å±•è¿ç®—ç¬¦æ˜¯ä¸æ˜¯å¿˜è®°äº†ï¼Œè¿˜æœ‰æ•°ç»„çš„åˆå¹¶ä¸è€ƒè™‘å»é‡å—ï¼Ÿ\n\n**æ”¹è¿›**\n\n```\nconst a = [1,2,3];\nconst b = [1,5,6];\nconst c = [...new Set([...a,...b])];//[1,2,3,5,6]\n\nconst obj1 = {\n  a:1,\n}\nconst obj2 = {\n  b:1,\n}\nconst obj = {...obj1,...obj2};//{a:1,b:1}\n```\n\n## ä¸‰ã€å…³äºæ‹¼æ¥å­—ç¬¦ä¸²çš„åæ§½\n\n```\nconst name = 'å°æ˜';\nconst score = 59;\nlet result = '';\nif(score > 60){\n  result = `${name}çš„è€ƒè¯•æˆç»©åŠæ ¼`; \n}else{\n  result = `${name}çš„è€ƒè¯•æˆç»©ä¸åŠæ ¼`; \n}\n```\n\n**åæ§½**\n\nåƒä½ ä»¬è¿™æ ·ç”¨ES6å­—ç¬¦ä¸²æ¨¡æ¿ï¼Œè¿˜ä¸å¦‚ä¸ç”¨ï¼Œä½ ä»¬æ ¹æœ¬ä¸æ¸…æ¥šåœ¨`${}`ä¸­å¯ä»¥åšä»€ä¹ˆæ“ä½œã€‚åœ¨`${}`ä¸­å¯ä»¥æ”¾å…¥ä»»æ„çš„JavaScriptè¡¨è¾¾å¼ï¼Œå¯ä»¥è¿›è¡Œè¿ç®—ï¼Œä»¥åŠå¼•ç”¨å¯¹è±¡å±æ€§ã€‚\n\n**æ”¹è¿›**\n\n```\nconst name = 'å°æ˜';\nconst score = 59;\nconst result = `${name}${score > 60?'çš„è€ƒè¯•æˆç»©åŠæ ¼':'çš„è€ƒè¯•æˆç»©ä¸åŠæ ¼'}`;\n```\n\n## å››ã€å…³äºifä¸­åˆ¤æ–­æ¡ä»¶çš„åæ§½\n\n```\nif(\n    type == 1 ||\n    type == 2 ||\n    type == 3 ||\n    type == 4 ||\n){\n   //...\n}\n```\n\n**åæ§½**\n\nES6ä¸­æ•°ç»„å®ä¾‹æ–¹æ³•`includes`ä¼šä¸ä¼šä½¿ç”¨å‘¢ï¼Ÿ\n\n**æ”¹è¿›**\n\n```\nconst condition = [1,2,3,4];\n\nif( condition.includes(type) ){\n   //...\n}\n```\n\n## äº”ã€å…³äºåˆ—è¡¨æœç´¢çš„åæ§½\n\nåœ¨é¡¹ç›®ä¸­ï¼Œä¸€äº›æ²¡åˆ†é¡µçš„åˆ—è¡¨çš„æœç´¢åŠŸèƒ½ç”±å‰ç«¯æ¥å®ç°ï¼Œæœç´¢ä¸€èˆ¬åˆ†ä¸ºç²¾ç¡®æœç´¢å’Œæ¨¡ç³Šæœç´¢ã€‚æœç´¢ä¹Ÿè¦å«è¿‡æ»¤ï¼Œä¸€èˆ¬ç”¨`filter`æ¥å®ç°ã€‚\n\n```\nconst a = [1,2,3,4,5];\nconst result = a.filter( \n  item =>{\n    return item === 3\n  }\n)\n```\n\n**åæ§½**\n\nå¦‚æœæ˜¯ç²¾ç¡®æœç´¢ä¸ä¼šç”¨ES6ä¸­çš„`find`å—ï¼Ÿæ€§èƒ½ä¼˜åŒ–æ‡‚ä¹ˆï¼Œ`find`æ–¹æ³•ä¸­æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„é¡¹ï¼Œå°±ä¸ä¼šç»§ç»­éå†æ•°ç»„ã€‚\n\n**æ”¹è¿›**\n\n```\nconst a = [1,2,3,4,5];\nconst result = a.find( \n  item =>{\n    return item === 3\n  }\n)\n```\n\n## å…­ã€å…³äºæ‰å¹³åŒ–æ•°ç»„çš„åæ§½\n\nä¸€ä¸ªéƒ¨é—¨JSONæ•°æ®ä¸­ï¼Œå±æ€§åæ˜¯éƒ¨é—¨idï¼Œå±æ€§å€¼æ˜¯ä¸ªéƒ¨é—¨æˆå‘˜idæ•°ç»„é›†åˆï¼Œç°åœ¨è¦æŠŠæœ‰éƒ¨é—¨çš„æˆå‘˜idéƒ½æå–åˆ°ä¸€ä¸ªæ•°ç»„é›†åˆä¸­ã€‚\n\n```\nconst deps = {\n'é‡‡è´­éƒ¨':[1,2,3],\n'äººäº‹éƒ¨':[5,8,12],\n'è¡Œæ”¿éƒ¨':[5,14,79],\n'è¿è¾“éƒ¨':[3,64,105],\n}\nlet member = [];\nfor (let item in deps){\n    const value = deps[item];\n    if(Array.isArray(value)){\n        member = [...member,...value]\n    }\n}\nmember = [...new Set(member)]\n```\n\n**åæ§½**\n\nè·å–å¯¹è±¡çš„å…¨éƒ¨å±æ€§å€¼è¿˜è¦éå†å—ï¼Ÿ`Object.values`å¿˜è®°äº†å—ï¼Ÿè¿˜æœ‰æ¶‰åŠåˆ°æ•°ç»„çš„æ‰å¹³åŒ–å¤„ç†ï¼Œä¸ºå•¥ä¸ç”¨ES6æä¾›çš„`flat`æ–¹æ³•å‘¢ï¼Œè¿˜å¥½è¿™æ¬¡çš„æ•°ç»„çš„æ·±åº¦æœ€å¤šåªåˆ°2ç»´ï¼Œè¿˜è¦æ˜¯é‡åˆ°4ç»´ã€5ç»´æ·±åº¦çš„æ•°ç»„ï¼Œæ˜¯ä¸æ˜¯å¾—å¾ªç¯åµŒå¥—å¾ªç¯æ¥æ‰å¹³åŒ–ï¼Ÿ\n\n**æ”¹è¿›**\n\n```\nconst deps = {\n    'é‡‡è´­éƒ¨':[1,2,3],\n    'äººäº‹éƒ¨':[5,8,12],\n    'è¡Œæ”¿éƒ¨':[5,14,79],\n    'è¿è¾“éƒ¨':[3,64,105],\n}\nlet member = Object.values(deps).flat(Infinity);\n```\n\nå…¶ä¸­ä½¿ç”¨`Infinity`ä½œä¸º`flat`çš„å‚æ•°ï¼Œä½¿å¾—æ— éœ€çŸ¥é“è¢«æ‰å¹³åŒ–çš„æ•°ç»„çš„ç»´åº¦ã€‚\n\n**è¡¥å……**\n\n`flat`æ–¹æ³•ä¸æ”¯æŒIEæµè§ˆå™¨ã€‚\n\n## ä¸ƒã€å…³äºè·å–å¯¹è±¡å±æ€§å€¼çš„åæ§½\n\n```\nconst name = obj && obj.name;\n```\n\n**åæ§½**\n\nES6ä¸­çš„å¯é€‰é“¾æ“ä½œç¬¦ä¼šä½¿ç”¨ä¹ˆï¼Ÿ\n\n**æ”¹è¿›**\n\n```\nconst name = obj?.name;\n```\n\n## å…«ã€å…³äºæ·»åŠ å¯¹è±¡å±æ€§çš„åæ§½\n\nå½“ç»™å¯¹è±¡æ·»åŠ å±æ€§æ—¶ï¼Œå¦‚æœå±æ€§åæ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œè¯¥æ€ä¹ˆå¤„ç†ã€‚\n\n```\nlet obj = {};\nlet index = 1;\nlet key = `topic${index}`;\nobj[key] = 'è¯é¢˜å†…å®¹';\n```\n\n**åæ§½**\n\nä¸ºä½•è¦é¢å¤–åˆ›å»ºä¸€ä¸ªå˜é‡ã€‚ä¸çŸ¥é“ES6ä¸­çš„å¯¹è±¡å±æ€§åæ˜¯å¯ä»¥ç”¨è¡¨è¾¾å¼å—ï¼Ÿ\n\n**æ”¹è¿›**\n\n```\nlet obj = {};\nlet index = 1;\nobj[`topic${index}`] = 'è¯é¢˜å†…å®¹';\n```\n\n## ä¹ã€å…³äºè¾“å…¥æ¡†éç©ºçš„åˆ¤æ–­\n\nåœ¨å¤„ç†è¾“å…¥æ¡†ç›¸å…³ä¸šåŠ¡æ—¶ï¼Œå¾€å¾€ä¼šåˆ¤æ–­è¾“å…¥æ¡†æœªè¾“å…¥å€¼çš„åœºæ™¯ã€‚\n\n```\nif(value !== null && value !== undefined && value !== ''){\n    //...\n}\n```\n\n**åæ§½**\n\nES6ä¸­æ–°å‡ºçš„ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦äº†è§£è¿‡å—ï¼Œè¦å†™é‚£ä¹ˆå¤šæ¡ä»¶å—ï¼Ÿ\n\n```\nif((value??'') !== ''){\n  //...\n}\n```\n\n## åã€å…³äºå¼‚æ­¥å‡½æ•°çš„åæ§½\n\nå¼‚æ­¥å‡½æ•°å¾ˆå¸¸è§ï¼Œç»å¸¸æ˜¯ç”¨ Promise æ¥å®ç°ã€‚\n\n```\nconst fn1 = () =>{\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve(1);\n    }, 300);\n  });\n}\nconst fn2 = () =>{\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve(2);\n    }, 600);\n  });\n}\nconst fn = () =>{\n   fn1().then(res1 =>{\n      console.log(res1);// 1\n      fn2().then(res2 =>{\n        console.log(res2)\n      })\n   })\n}\n```\n\n**åæ§½**\n\nå¦‚æœè¿™æ ·è°ƒç”¨å¼‚æ­¥å‡½æ•°ï¼Œä¸æ€•å½¢æˆåœ°ç‹±å›è°ƒå•Šï¼\n\n**æ”¹è¿›**\n\n```\nconst fn = async () =>{\n  const res1 = await fn1();\n  const res2 = await fn2();\n  console.log(res1);// 1\n  console.log(res2);// 2\n}\n```\n\n**è¡¥å……**\n\nä½†æ˜¯è¦åšå¹¶å‘è¯·æ±‚æ—¶ï¼Œè¿˜æ˜¯è¦ç”¨åˆ°`Promise.all()`ã€‚\n\n```\nconst fn = () =>{\n   Promise.all([fn1(),fn2()]).then(res =>{\n       console.log(res);// [1,2]\n   }) \n}\n```\n\nå¦‚æœå¹¶å‘è¯·æ±‚æ—¶ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ªå¼‚æ­¥å‡½æ•°å¤„ç†å®Œæˆï¼Œå°±è¿”å›ç»“æœï¼Œè¦ç”¨åˆ°`Promise.race()`ã€‚\n\n## åä¸€ã€åç»­\n\næ¬¢è¿æ¥å¯¹ä»¥ä¸Šåç‚¹leaderçš„åæ§½è¿›è¡Œåé©³ï¼Œä½ çš„åé©³å¦‚æœæœ‰é“ç†çš„ï¼Œä¸‹æ¬¡ä»£ç è¯„å®¡ä¼šä¸Šï¼Œæˆ‘æ›¿ä½ åé©³ã€‚\n\næ­¤å¤–ä»¥ä¸Šçš„æ•´ç†å†…å®¹æœ‰è¯¯çš„åœ°æ–¹ï¼Œæ¬¢è¿åœ¨è¯„è®ºä¸­æŒ‡æ­£ï¼Œä¸‡åˆ†æ„Ÿè°¢ã€‚\n\nå¦‚æœä½ è¿˜æœ‰å…¶å®ƒæƒ³åæ§½çš„ï¼Œä¹Ÿéå¸¸æ¬¢è¿åœ¨è¯„è®ºä¸­ç•™ä¸‹ä½ çš„åæ§½ã€‚\n\nè¯»å®Œæœ‰å¸®åŠ©ï¼Œä¸å¦¨å…³æ³¨ä¸€ä¸‹ï¼Œç‚¹ä¸ªèµæ”¯æŒä¸€ä¸‹ã€‚\n\nä½œè€…ï¼šçº¢å°˜ç‚¼å¿ƒ\\\né“¾æ¥ï¼šhttps://juejin.cn/post/7016520448204603423\\\næ¥æºï¼šç¨€åœŸæ˜é‡‘","viewCount":150,"createTime":"2022-06-02T07:27:01.133Z","updateTime":"2022-06-02T07:27:01.133Z","__v":0}]}]
